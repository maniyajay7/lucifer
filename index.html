<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillSwap | Trade Your Skills</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
    <style>/* Modern Color Palette */
:root {
  --primary: #4361ee;
  --primary-light: #4895ef;
  --primary-dark: #3f37c9;
  --secondary: #f72585;
  --accent: #4cc9f0;
  --dark: #212529;
  --light: #f8f9fa;
  --gray: #6c757d;
  --light-gray: #e9ecef;
  --success: #4ade80;
  --warning: #fbbf24;
  --danger: #f87171;
  --info: #60a5fa;

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  --gradient-accent: linear-gradient(135deg, var(--secondary) 0%, var(--accent) 100%);

  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 50px rgba(0, 0, 0, 0.2);

  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* Transitions */
  --transition-fast: all 0.15s ease;
  --transition-normal: all 0.3s ease;
  --transition-slow: all 0.5s ease;

  /* Glass morphism */
  --glass: rgba(255, 255, 255, 0.15);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  --glass-blur: blur(8px);
}

/* Dark Mode Variables */
[data-theme="dark"] {
  --dark: #f8f9fa;
  --light: #1a1a1a;
  --gray: #a0a0a0;
  --light-gray: #2d2d2d;
  --glass: rgba(0, 0, 0, 0.15);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 4px 30px rgba(255, 255, 255, 0.05);
}

/* Theme Toggle Button */
.theme-toggle {
  min-width: 44px;
  padding: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.theme-toggle i {
  font-size: 1.1rem;
  transition: var(--transition-normal);
}

.theme-toggle:hover i {
  transform: rotate(180deg);
}

/* Profile Actions */
.profile-actions {
  margin-top: 1rem;
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Fixed Profile Photo Sizes */
.user-profile-card img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 1rem;
  border: 3px solid white;
  box-shadow: var(--shadow-md);
}

/* Swap Modal Large */
.swap-modal-large {
  max-width: 600px;
  width: 95%;
}

.swap-request-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.swap-users-section {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem;
  background: var(--light-gray);
  border-radius: var(--radius-lg);
  margin-bottom: 1.5rem;
}

.user-profile-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  flex: 1;
}

.user-profile-card h3 {
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.user-profile-card .location {
  color: var(--gray);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.3rem;
}

.swap-arrow-section {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 1rem;
}

.swap-arrow-section i {
  font-size: 2rem;
  color: var(--primary);
}

.skills-selection-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.skill-selection-group {
  background: white;
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  border: 2px solid var(--light-gray);
}

.skill-selection-group h4 {
  margin-bottom: 1rem;
  color: var(--dark);
  font-size: 1rem;
}

.skill-dropdown {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid var(--light-gray);
  border-radius: var(--radius-md);
  background: white;
  font-size: 0.9rem;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 1rem;
  padding-right: 2.5rem;
}

.skill-dropdown:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
}

.message-section {
  margin-bottom: 2rem;
}

.message-section label {
  display: block;
  margin-bottom: 0.75rem;
  font-weight: 500;
  color: var(--dark);
}

.message-section textarea {
  width: 100%;
  min-height: 120px;
  padding: 1rem;
  border: 1px solid var(--light-gray);
  border-radius: var(--radius-md);
  resize: vertical;
  font-family: inherit;
  font-size: 0.9rem;
  box-sizing: border-box;
}

.message-section textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
}

.swap-actions-section {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--light-gray);
}

/* Floating Skills Animation */
.floating-skills-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  opacity: 0;
  transition: opacity 1s ease;
}

.floating-skills-container.active {
  opacity: 1;
}

.floating-skill {
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  color: white;
  font-weight: 600;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  animation: float 6s ease-in-out infinite;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 120px;
  text-align: center;
}

.floating-skill:hover {
  transform: scale(1.1);
  background: rgba(255, 255, 255, 0.2);
}

.floating-skill .skill-icon {
  font-size: 2.5rem;
  margin-bottom: 5px;
}

.floating-skill span {
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

/* Individual floating animations */
.floating-skill:nth-child(1) {
  top: 20%;
  left: 15%;
  animation-delay: 0s;
  animation-duration: 8s;
}

.floating-skill:nth-child(2) {
  top: 60%;
  left: 10%;
  animation-delay: 1s;
  animation-duration: 7s;
}

.floating-skill:nth-child(3) {
  top: 40%;
  right: 20%;
  animation-delay: 2s;
  animation-duration: 9s;
}

.floating-skill:nth-child(4) {
  top: 15%;
  right: 15%;
  animation-delay: 3s;
  animation-duration: 6s;
}

.floating-skill:nth-child(5) {
  top: 70%;
  right: 10%;
  animation-delay: 4s;
  animation-duration: 8s;
}

.floating-skill:nth-child(6) {
  top: 50%;
  left: 50%;
  animation-delay: 5s;
  animation-duration: 7s;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }
  25% {
    transform: translateY(-20px) rotate(1deg);
  }
  50% {
    transform: translateY(-10px) rotate(-1deg);
  }
  75% {
    transform: translateY(-15px) rotate(0.5deg);
  }
}

/* Base Styles with Smooth Scrolling */
html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  line-height: 1.6;
  color: var(--dark);
  background-color: var(--light);
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* Fluid Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0 0 1rem;
  font-weight: 700;
  line-height: 1.2;
  color: var(--dark);
}

h1 {
  font-size: clamp(2rem, 5vw, 3rem);
}
h2 {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
}
h3 {
  font-size: clamp(1.5rem, 3.5vw, 2rem);
}
h4 {
  font-size: clamp(1.25rem, 3vw, 1.75rem);
}

p {
  margin: 0 0 1rem;
  color: var(--gray);
  font-size: 1rem;
}

/* Layout */
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--light);
  position: relative;
  z-index: 10;
}

.main-content {
  flex: 1;
  padding: 2rem 1rem;
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
}

.content-view {
  display: none;
  animation: fadeIn 0.5s ease;
}

.content-view.active {
  display: block;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Modern Header with Glass Morphism */
.app-header {
  background: var(--glass);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 1000;
  transition: var(--transition-normal);
  flex-wrap: wrap;
  gap: 1rem;
}

.app-header.scrolled {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: var(--shadow-md);
}

[data-theme="dark"] .app-header.scrolled {
  background: rgba(26, 26, 26, 0.9);
}

.logo-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.logo {
  font-size: 1.8rem;
  font-weight: 800;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: -0.5px;
  margin: 0;
}

.tagline {
  color: var(--gray);
  font-size: 0.9rem;
  font-weight: 400;
  margin: 0;
}

.main-nav {
  flex: 1;
  display: flex;
  justify-content: center;
}

.main-nav .nav-list {
  display: flex;
  list-style: none;
  gap: 0.5rem;
  margin: 0;
  padding: 0;
  flex-wrap: wrap;
}

.nav-link {
  padding: 0.75rem 1.25rem;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
  color: var(--dark);
  transition: var(--transition-fast);
  position: relative;
  overflow: hidden;
  text-decoration: none;
}

.nav-link::before {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 3px;
  background: var(--primary);
  transition: var(--transition-normal);
}

.nav-link:hover {
  color: var(--primary);
}

.nav-link:hover::before {
  width: 100%;
}

.nav-link.active {
  color: white;
  background: var(--gradient-primary);
  box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
}

.nav-link.active::before {
  display: none;
}

.nav-link i {
  font-size: 1.1rem;
}

.user-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.user-profile-container {
  cursor: pointer;
}

.profile-pic-small {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  cursor: pointer;
  border: 2px solid white;
  box-shadow: var(--shadow-sm);
  transition: var(--transition-fast);
}

.profile-pic-small:hover {
  transform: scale(1.1);
  box-shadow: 0 0 0 3px var(--primary-light);
}

/* Modern Buttons with Hover Effects */
.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: var(--radius-full);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition-normal);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  position: relative;
  overflow: hidden;
  z-index: 1;
  text-decoration: none;
  font-size: 0.9rem;
}

.btn::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--gradient-primary);
  z-index: -1;
  opacity: 0;
  transition: var(--transition-normal);
}

.btn:hover::before {
  opacity: 1;
}

.btn-primary {
  background: var(--gradient-primary);
  color: white;
  box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
}

.btn-outline {
  background: transparent;
  border: 2px solid var(--primary);
  color: var(--primary);
}

.btn-outline:hover {
  color: white;
  border-color: transparent;
}

.btn-danger {
  background: var(--danger);
  color: white;
}

.btn-danger:hover {
  background: #ef4444;
}

.btn-small {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.btn-large {
  padding: 1rem 2rem;
  font-size: 1.1rem;
}

/* Hero Section with Parallax Effect */
.hero-section {
  display: flex;
  align-items: center;
  gap: 3rem;
  margin-bottom: 4rem;
  padding: 4rem 0;
  position: relative;
  overflow: hidden;
}

.hero-section::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: var(--gradient-primary);
  opacity: 0.05;
  z-index: -1;
  border-radius: 50%;
  animation: rotate 30s linear infinite;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.hero-text {
  flex: 1;
  z-index: 1;
}

.hero-text h2 {
  font-size: clamp(2rem, 5vw, 3.5rem);
  line-height: 1.2;
  margin-bottom: 1.5rem;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.hero-text p {
  font-size: 1.25rem;
  max-width: 600px;
  margin-bottom: 2rem;
}

.hero-image {
  flex: 1;
  position: relative;
  perspective: 1000px;
}

.hero-image img {
  width: 100%;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  transform-style: preserve-3d;
  transition: var(--transition-normal);
}

.hero-image:hover img {
  transform: rotateY(10deg) rotateX(5deg) translateZ(20px);
}

/* Skills Grid with 3D Card Effect */
.skills-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 1.5rem;
  margin: 3rem 0;
}

.skill-card {
  background: white;
  border-radius: var(--radius-lg);
  padding: 2rem;
  box-shadow: var(--shadow-md);
  transition: var(--transition-normal);
  text-align: center;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .skill-card {
  background: var(--light-gray);
}

.skill-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: var(--gradient-primary);
}

.skill-card:hover {
  transform: translateY(-10px) scale(1.03);
  box-shadow: var(--shadow-xl);
}

.skill-card i {
  font-size: 2.5rem;
  margin-bottom: 1.5rem;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.skill-card h4 {
  margin-bottom: 0.75rem;
  font-size: 1.25rem;
}

.skill-card p {
  color: var(--gray);
  font-size: 0.9rem;
}

/* Testimonials Carousel */
.testimonials {
  margin: 5rem 0;
  position: relative;
}

.testimonial-carousel {
  display: flex;
  gap: 2rem;
  padding: 2rem 0;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.testimonial {
  min-width: 300px;
  scroll-snap-align: start;
  background: white;
  padding: 2rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  position: relative;
  transition: var(--transition-normal);
}

[data-theme="dark"] .testimonial {
  background: var(--light-gray);
}

.testimonial:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.testimonial::before {
  content: '"';
  position: absolute;
  top: 1rem;
  left: 1rem;
  font-size: 4rem;
  color: var(--primary-light);
  opacity: 0.2;
  font-family: Georgia, serif;
  line-height: 1;
}

.testimonial p {
  font-style: italic;
  margin-bottom: 1.5rem;
  position: relative;
  z-index: 1;
}

.testimonial-author {
  font-weight: 600;
  color: var(--primary);
  display: flex;
  align-items: center;
}

.testimonial-author::before {
  content: "";
  display: inline-block;
  width: 20px;
  height: 2px;
  background: var(--primary);
  margin-right: 0.5rem;
}

/* Search and Filters */
.search-filters {
  margin-bottom: 3rem;
  background: white;
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

[data-theme="dark"] .search-filters {
  background: var(--light-gray);
}

.search-bar {
  display: flex;
  margin-bottom: 1.5rem;
  position: relative;
  gap: 0.5rem;
}

.search-bar input {
  flex: 1;
  padding: 1rem 1.5rem;
  border: none;
  border-radius: var(--radius-full);
  font-size: 1rem;
  background: var(--light-gray);
  transition: var(--transition-normal);
  color: var(--dark);
}

[data-theme="dark"] .search-bar input {
  background: #3d3d3d;
  color: var(--dark);
}

.search-bar input:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .search-bar input:focus {
  background: #4d4d4d;
}

/* Advanced Search Bar with Dropdown */
.search-input-container {
  position: relative;
  flex: 1;
}

#skill-search {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.1) 0%, rgba(76, 201, 240, 0.1) 100%);
  border: 2px solid transparent;
  background-clip: padding-box;
  transition: var(--transition-normal);
  position: relative;
  z-index: 1;
  font-size: 1rem;
  padding: 1rem 1.5rem;
  border-radius: var(--radius-full);
  box-shadow: 0 4px 20px rgba(67, 97, 238, 0.1);
}

#skill-search::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-primary);
  border-radius: var(--radius-full);
  z-index: -1;
  opacity: 0;
  transition: opacity var(--transition-normal);
}

#skill-search:focus {
  background: white;
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.2), 0 8px 30px rgba(67, 97, 238, 0.3);
  transform: translateY(-2px);
}

[data-theme="dark"] #skill-search {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.2) 0%, rgba(76, 201, 240, 0.2) 100%);
}

[data-theme="dark"] #skill-search:focus {
  background: #4d4d4d;
  box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.3), 0 8px 30px rgba(67, 97, 238, 0.4);
}

.search-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  right: 0;
  background: white;
  border: 1px solid rgba(67, 97, 238, 0.2);
  border-radius: var(--radius-lg);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
  max-height: 400px;
  overflow-y: auto;
  z-index: 1000;
  display: none;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

[data-theme="dark"] .search-dropdown {
  background: var(--light-gray);
  border-color: rgba(67, 97, 238, 0.3);
  box-shadow: 0 20px 60px rgba(255, 255, 255, 0.1);
}

.search-dropdown.show {
  display: block;
  animation: searchDropdownSlide 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes searchDropdownSlide {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.search-dropdown-section {
  padding: 0.5rem 0;
  border-bottom: 1px solid rgba(67, 97, 238, 0.1);
}

.search-dropdown-section:last-child {
  border-bottom: none;
}

.search-dropdown-header {
  padding: 0.75rem 1rem;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 1px;
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.05) 0%, rgba(76, 201, 240, 0.05) 100%);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.search-dropdown-item {
  padding: 1rem;
  cursor: pointer;
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  gap: 0.75rem;
  border-left: 3px solid transparent;
  position: relative;
  overflow: hidden;
}

.search-dropdown-item::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(67, 97, 238, 0.1), transparent);
  transition: left 0.5s;
}

.search-dropdown-item:hover::before {
  left: 100%;
}

.search-dropdown-item:hover,
.search-dropdown-item.highlighted {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.08) 0%, rgba(76, 201, 240, 0.08) 100%);
  border-left-color: var(--primary);
  transform: translateX(5px);
}

.search-dropdown-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--primary-light);
  flex-shrink: 0;
  box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
}

.search-dropdown-info {
  flex: 1;
  min-width: 0;
}

.search-dropdown-name {
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 0.3rem;
  font-size: 0.95rem;
}

.search-dropdown-meta {
  font-size: 0.8rem;
  color: var(--gray);
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.search-dropdown-skill {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.15) 0%, rgba(67, 97, 238, 0.25) 100%);
  color: var(--primary-dark);
  padding: 0.2rem 0.6rem;
  border-radius: var(--radius-full);
  font-size: 0.7rem;
  font-weight: 600;
  border: 1px solid rgba(67, 97, 238, 0.3);
}

.search-dropdown-location {
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.search-dropdown-location i {
  color: var(--primary);
  font-size: 0.7rem;
}

.search-no-results {
  padding: 2rem;
  text-align: center;
  color: var(--gray);
}

.search-no-results i {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: var(--primary-light);
}

.search-no-results p {
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.search-no-results small {
  opacity: 0.7;
}

.search-loading {
  padding: 1.5rem;
  text-align: center;
  color: var(--primary);
  font-weight: 500;
}

.search-loading i {
  margin-right: 0.5rem;
}

/* Enhanced User Cards */
.user-card-bio {
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: rgba(67, 97, 238, 0.05);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--primary-light);
}

.user-card-bio p {
  margin: 0;
  font-size: 0.9rem;
  line-height: 1.4;
  color: var(--gray);
}

.skills-container {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin-bottom: 0.75rem;
}

.skill-tag.more {
  background: var(--light-gray);
  color: var(--gray);
  border: 1px solid var(--light-gray);
  font-style: italic;
}

/* Enhanced Pagination */
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 2rem;
  padding: 1.5rem;
  flex-wrap: wrap;
}

.pagination-btn {
  padding: 0.75rem 1rem;
  border: 2px solid var(--light-gray);
  background: white;
  color: var(--dark);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: var(--transition-normal);
  font-size: 0.9rem;
  font-weight: 500;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

[data-theme="dark"] .pagination-btn {
  background: var(--light-gray);
  border-color: #4d4d4d;
  color: var(--dark);
}

.pagination-btn:hover:not(:disabled):not(.disabled) {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
}

.pagination-btn:disabled,
.pagination-btn.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.pagination-btn.active {
  background: var(--gradient-primary);
  color: white;
  border-color: var(--primary);
  box-shadow: 0 4px 15px rgba(67, 97, 238, 0.4);
}

.pagination-ellipsis {
  padding: 0.75rem 0.5rem;
  color: var(--gray);
  font-weight: 500;
}

#page-info {
  margin: 0 1rem;
  color: var(--gray);
  font-size: 0.9rem;
  font-weight: 500;
  text-align: center;
  min-width: 150px;
}

/* Enhanced No Results */
.no-results {
  text-align: center;
  padding: 4rem 2rem;
  color: var(--gray);
  grid-column: 1 / -1;
}

.no-results i {
  display: block;
  margin-bottom: 1.5rem;
}

.no-results h3 {
  color: var(--dark);
  margin-bottom: 1rem;
}

.no-results p {
  margin-bottom: 2rem;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
}

/* Responsive Improvements */
@media (max-width: 768px) {
  .search-bar {
    flex-direction: column;
    gap: 1rem;
  }

  .filter-options {
    flex-direction: column;
    gap: 1rem;
  }

  .filter-options select {
    width: 100%;
  }

  .results-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .pagination {
    gap: 0.3rem;
    padding: 1rem;
  }

  .pagination-btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
    min-width: 40px;
  }

  #page-info {
    width: 100%;
    margin: 0.5rem 0;
    order: -1;
  }

  .search-dropdown {
    max-height: 300px;
  }

  .search-dropdown-item {
    padding: 0.75rem;
  }

  .search-dropdown-avatar {
    width: 35px;
    height: 35px;
  }
}

@media (max-width: 576px) {
  .user-card-header {
    flex-direction: column;
    text-align: center;
    gap: 1rem;
  }

  .user-card-pic {
    width: 80px;
    height: 80px;
    margin-right: 0;
  }

  .user-card-footer {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
  }

  .request-swap-btn {
    width: 100%;
    justify-content: center;
  }

  .pagination-btn {
    padding: 0.5rem;
    min-width: 36px;
  }

  .pagination-btn span {
    display: none;
  }
}

/* Enhanced Swap Actions */
.swap-actions-row {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.swap-actions-row .btn {
  position: relative;
  overflow: hidden;
}

.swap-actions-row .btn::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.swap-actions-row .btn:hover::before {
  width: 300px;
  height: 300px;
}

/* Confirmation Dialog Styling */
.confirm-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.confirm-dialog-content {
  background: white;
  padding: 2rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  max-width: 400px;
  width: 90%;
  text-align: center;
}

[data-theme="dark"] .confirm-dialog-content {
  background: var(--light-gray);
}

.confirm-dialog-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1.5rem;
}

/* User Cards */
.results-container {
  background: white;
  border-radius: var(--radius-lg);
  padding: 2rem;
  box-shadow: var(--shadow-md);
}

[data-theme="dark"] .results-container {
  background: var(--light-gray);
}

.results-count {
  margin-bottom: 1.5rem;
  color: var(--gray);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
}

.results-count::before {
  content: "";
  display: inline-block;
  width: 10px;
  height: 10px;
  background: var(--primary);
  border-radius: 50%;
  margin-right: 0.5rem;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

/* Enhanced User Cards */
.user-card {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: var(--transition-normal);
  position: relative;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(67, 97, 238, 0.1);
}

[data-theme="dark"] .user-card {
  background: var(--light-gray);
  border-color: rgba(67, 97, 238, 0.2);
}

.user-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
  opacity: 0;
  transition: var(--transition-normal);
}

.user-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-xl);
  border-color: var(--primary-light);
}

.user-card:hover::before {
  opacity: 1;
}

.user-card-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--light-gray);
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.05) 0%, rgba(76, 201, 240, 0.05) 100%);
  position: relative;
}

[data-theme="dark"] .user-card-header {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.1) 0%, rgba(76, 201, 240, 0.1) 100%);
  border-bottom-color: #4d4d4d;
}

.user-card-pic {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 1rem;
  border: 4px solid white;
  box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
  transition: var(--transition-normal);
}

[data-theme="dark"] .user-card-pic {
  border-color: var(--light-gray);
}

.user-card:hover .user-card-pic {
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
}

.user-card-info h3 {
  margin-bottom: 0.5rem;
  font-size: 1.2rem;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-weight: 700;
}

.user-card-location {
  color: var(--gray);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.3rem 0.7rem;
  background: rgba(255, 255, 255, 0.7);
  border-radius: var(--radius-full);
  backdrop-filter: blur(5px);
  width: fit-content;
}

[data-theme="dark"] .user-card-location {
  background: rgba(77, 77, 77, 0.7);
}

.user-card-location i {
  color: var(--primary);
  font-size: 0.8rem;
}

.user-card-body {
  padding: 1.5rem;
  flex: 1;
}

.user-card-skills {
  margin-bottom: 1.5rem;
}

.user-card-skills h4 {
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
  color: var(--dark);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.user-card-skills h4::before {
  content: "";
  width: 3px;
  height: 16px;
  background: var(--gradient-primary);
  border-radius: var(--radius-full);
}

.skill-tag {
  display: inline-block;
  padding: 0.4rem 0.8rem;
  border-radius: var(--radius-full);
  font-size: 0.8rem;
  margin-right: 0.5rem;
  margin-bottom: 0.5rem;
  transition: var(--transition-fast);
  font-weight: 500;
  position: relative;
  overflow: hidden;
}

.skill-tag::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transition: left 0.5s;
}

.skill-tag:hover::before {
  left: 100%;
}

.skill-tag.offer {
  background: linear-gradient(135deg, rgba(67, 97, 238, 0.15) 0%, rgba(67, 97, 238, 0.25) 100%);
  color: var(--primary-dark);
  border: 1px solid rgba(67, 97, 238, 0.3);
  box-shadow: 0 2px 8px rgba(67, 97, 238, 0.2);
}

.skill-tag.want {
  background: linear-gradient(135deg, rgba(247, 37, 133, 0.15) 0%, rgba(247, 37, 133, 0.25) 100%);
  color: var(--secondary);
  border: 1px solid rgba(247, 37, 133, 0.3);
  box-shadow: 0 2px 8px rgba(247, 37, 133, 0.2);
}

.user-card-footer {
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--light-gray);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
  background: rgba(248, 249, 250, 0.5);
}

[data-theme="dark"] .user-card-footer {
  background: rgba(45, 45, 45, 0.5);
  border-top-color: #4d4d4d;
}

.availability-badge {
  font-size: 0.8rem;
  padding: 0.4rem 0.8rem;
  border-radius: var(--radius-full);
  background: linear-gradient(135deg, var(--light-gray) 0%, rgba(67, 97, 238, 0.1) 100%);
  color: var(--gray);
  display: flex;
  align-items: center;
  gap: 0.3rem;
  border: 1px solid rgba(67, 97, 238, 0.2);
  font-weight: 500;
}

.availability-badge i {
  color: var(--primary);
  font-size: 0.9rem;
}

.request-swap-btn {
  transition: var(--transition-normal);
  position: relative;
  overflow: hidden;
}

.request-swap-btn::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.request-swap-btn:hover::before {
  width: 300px;
  height: 300px;
}

.request-swap-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
}

/* Profile Section */
.profile-header {
  display: flex;
  align-items: center;
  margin-bottom: 2rem;
  background: var(--glass);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  padding: 2rem;
  border-radius: var(--radius-lg);
  flex-wrap: wrap;
  gap: 2rem;
}

.profile-pic-container {
  text-align: center;
  position: relative;
}

.profile-pic-large {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 1rem;
  border: 5px solid rgba(255, 255, 255, 0.3);
  box-shadow: var(--shadow-md);
  transition: var(--transition-normal);
}

.profile-pic-large:hover {
  transform: scale(1.05);
  box-shadow: 0 0 0 5px var(--primary-light);
}

.profile-info {
  flex: 1;
  min-width: 250px;
}

.profile-status {
  display: flex;
  align-items: center;
  margin-top: 0.5rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.status-badge {
  padding: 0.3rem 0.7rem;
  border-radius: var(--radius-full);
  font-size: 0.8rem;
  font-weight: 500;
}

.status-private {
  background: rgba(248, 215, 218, 0.8);
  color: #721c24;
}

.status-public {
  background: rgba(212, 237, 218, 0.8);
  color: #155724;
}

.profile-sections {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.profile-section {
  background: var(--glass);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.profile-section:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.skills-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.skill-item {
  background: rgba(255, 255, 255, 0.5);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  backdrop-filter: blur(5px);
  transition: var(--transition-fast);
}

.skill-item:hover {
  background: white;
  box-shadow: var(--shadow-sm);
}

[data-theme="dark"] .skill-item:hover {
  background: #4d4d4d;
}

.skill-item .remove-skill {
  background: none;
  border: none;
  color: var(--gray);
  margin-left: 0.5rem;
  cursor: pointer;
  font-size: 1.2rem;
  transition: var(--transition-fast);
  padding: 0;
  line-height: 1;
}

.skill-item .remove-skill:hover {
  color: var(--danger);
}

.add-skill {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.add-skill input {
  flex: 1;
  min-width: 200px;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: var(--radius-full);
  background: rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(5px);
  transition: var(--transition-normal);
  color: var(--dark);
}

[data-theme="dark"] .add-skill input {
  background: rgba(77, 77, 77, 0.5);
  color: var(--dark);
}

.add-skill input:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .add-skill input:focus {
  background: #4d4d4d;
}

.availability-options {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.checkbox-container {
  display: block;
  position: relative;
  padding-left: 30px;
  margin-bottom: 12px;
  cursor: pointer;
  user-select: none;
}

.checkbox-container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 20px;
  width: 20px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-sm);
  backdrop-filter: blur(5px);
  transition: var(--transition-fast);
}

.checkbox-container:hover input ~ .checkmark {
  background: rgba(255, 255, 255, 0.8);
}

[data-theme="dark"] .checkbox-container:hover input ~ .checkmark {
  background: rgba(77, 77, 77, 0.8);
}

.checkbox-container input:checked ~ .checkmark {
  background: var(--primary);
}

.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.checkbox-container input:checked ~ .checkmark:after {
  display: block;
}

.checkbox-container .checkmark:after {
  left: 7px;
  top: 3px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Swaps View */
.swaps-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  background: white;
  padding: 0.5rem;
  border-radius: var(--radius-full);
  box-shadow: var(--shadow-sm);
  flex-wrap: wrap;
}

[data-theme="dark"] .swaps-tabs {
  background: var(--light-gray);
}

.tab-btn {
  padding: 0.75rem 1.5rem;
  background: transparent;
  border: none;
  border-radius: var(--radius-full);
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition-fast);
  white-space: nowrap;
  color: var(--dark);
}

.tab-btn.active {
  background: var(--primary);
  color: white;
}

.swaps-list {
  display: block;
}

.swap-item {
  padding: 1.5rem;
  margin-bottom: 1rem;
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  position: relative;
  transition: var(--transition-normal);
}

[data-theme="dark"] .swap-item {
  background: var(--light-gray);
}

.swap-item:hover {
  transform: translateX(5px);
  box-shadow: var(--shadow-md);
}

.swap-item::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 4px;
  background: var(--primary);
  border-radius: var(--radius-full) 0 0 var(--radius-full);
}

.swap-item.status-accepted::before {
  background: var(--success);
}

.swap-item.status-completed::before {
  background: var(--accent);
}

.swap-info {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.swap-users {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
}

.swap-users img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 0.5rem;
  border: 2px solid white;
  box-shadow: var(--shadow-sm);
}

[data-theme="dark"] .swap-users img {
  border-color: var(--light-gray);
}

.swap-arrow {
  margin: 0 1rem;
  color: var(--gray);
}

.swap-details {
  flex: 1;
}

.swap-details p {
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.swap-message {
  font-style: italic;
  color: var(--gray);
  background: var(--light-gray);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-md);
  margin: 0.5rem 0;
}

.swap-date {
  font-size: 0.8rem;
  color: var(--gray);
}

.swap-status {
  font-weight: 500;
  padding: 0.3rem 0.7rem;
  border-radius: var(--radius-full);
  font-size: 0.8rem;
  align-self: flex-start;
}

.swap-status.pending {
  background: rgba(255, 193, 7, 0.1);
  color: #856404;
  border: 1px solid rgba(255, 193, 7, 0.2);
}

.swap-status.accepted {
  background: rgba(74, 222, 128, 0.1);
  color: #155724;
  border: 1px solid rgba(74, 222, 128, 0.2);
}

.swap-status.completed {
  background: rgba(76, 201, 240, 0.1);
  color: #0c5460;
  border: 1px solid rgba(76, 201, 240, 0.2);
}

.swap-actions {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
  flex-wrap: wrap;
}

/* Enhanced Swap Status Cards */
.swap-status-card {
  background: white;
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin-bottom: 1rem;
  border-left: 4px solid var(--primary);
  box-shadow: var(--shadow-sm);
  transition: var(--transition-normal);
}

[data-theme="dark"] .swap-status-card {
  background: var(--light-gray);
}

.swap-status-card:hover {
  transform: translateX(5px);
  box-shadow: var(--shadow-md);
}

.swap-status-card.status-pending {
  border-left-color: var(--warning);
}

.swap-status-card.status-accepted {
  border-left-color: var(--success);
}

.swap-status-card.status-rejected {
  border-left-color: var(--danger);
}

.swap-status-card.status-completed {
  border-left-color: var(--info);
}

.swap-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
}

.swap-participants {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.swap-participants img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid white;
  box-shadow: var(--shadow-sm);
}

[data-theme="dark"] .swap-participants img {
  border-color: var(--light-gray);
}

.swap-participants .swap-arrow {
  color: var(--gray);
  font-size: 1.2rem;
}

.swap-status-badge {
  padding: 0.4rem 0.8rem;
  border-radius: var(--radius-full);
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.swap-status-badge.pending {
  background: rgba(251, 191, 36, 0.1);
  color: #92400e;
  border: 1px solid rgba(251, 191, 36, 0.2);
}

.swap-status-badge.accepted {
  background: rgba(74, 222, 128, 0.1);
  color: #166534;
  border: 1px solid rgba(74, 222, 128, 0.2);
}

.swap-status-badge.rejected {
  background: rgba(248, 113, 113, 0.1);
  color: #991b1b;
  border: 1px solid rgba(248, 113, 113, 0.2);
}

.swap-status-badge.completed {
  background: rgba(96, 165, 250, 0.1);
  color: #1e40af;
  border: 1px solid rgba(96, 165, 250, 0.2);
}

.swap-details-section {
  margin-bottom: 1rem;
}

.swap-skills-info {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 1rem;
  align-items: center;
  margin-bottom: 1rem;
}

.skill-offer,
.skill-want {
  text-align: center;
  padding: 0.75rem;
  border-radius: var(--radius-md);
  background: var(--light-gray);
}

[data-theme="dark"] .skill-offer,
[data-theme="dark"] .skill-want {
  background: #3d3d3d;
}

.skill-offer .skill-tag {
  background: rgba(67, 97, 238, 0.1);
  color: var(--primary-dark);
  border: 1px solid rgba(67, 97, 238, 0.2);
}

.skill-want .skill-tag {
  background: rgba(247, 37, 133, 0.1);
  color: var(--secondary);
  border: 1px solid rgba(247, 37, 133, 0.2);
}

.swap-message-preview {
  background: var(--light-gray);
  padding: 1rem;
  border-radius: var(--radius-md);
  font-style: italic;
  color: var(--gray);
  margin-bottom: 1rem;
}

[data-theme="dark"] .swap-message-preview {
  background: #3d3d3d;
}

.swap-actions-row {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Enhanced Swap Actions */
.swap-actions-row {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.swap-actions-row .btn {
  position: relative;
  overflow: hidden;
}

.swap-actions-row .btn::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.swap-actions-row .btn:hover::before {
  width: 300px;
  height: 300px;
}

/* Confirmation Dialog Styling */
.confirm-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.confirm-dialog-content {
  background: white;
  padding: 2rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  max-width: 400px;
  width: 90%;
  text-align: center;
}

[data-theme="dark"] .confirm-dialog-content {
  background: var(--light-gray);
}

.confirm-dialog-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1.5rem;
}

/* Admin Panel */
.admin-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  overflow-x: auto;
  padding-bottom: 0.5rem;
  scrollbar-width: none;
}

.admin-tabs::-webkit-scrollbar {
  display: none;
}

.admin-controls {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.admin-controls input {
  flex: 1;
  min-width: 250px;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: var(--radius-full);
  background: var(--light-gray);
  transition: var(--transition-normal);
  color: var(--dark);
}

[data-theme="dark"] .admin-controls input {
  background: #3d3d3d;
  color: var(--dark);
}

.admin-controls input:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .admin-controls input:focus {
  background: #4d4d4d;
}

.admin-table-container {
  overflow-x: auto;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  min-width: 600px;
}

[data-theme="dark"] .admin-table {
  background: var(--light-gray);
}

.admin-table th,
.admin-table td {
  padding: 1rem;
  text-align: left;
  border-bottom: 1px solid var(--light-gray);
  color: var(--dark);
}

[data-theme="dark"] .admin-table th,
[data-theme="dark"] .admin-table td {
  border-bottom-color: #4d4d4d;
}

.admin-table th {
  background: var(--primary);
  color: white;
  position: sticky;
  top: 0;
}

.admin-table tr:hover {
  background: rgba(67, 97, 238, 0.05);
}

[data-theme="dark"] .admin-table tr:hover {
  background: rgba(67, 97, 238, 0.1);
}

.user-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.user-table-pic {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
}

.admin-actions {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.pending-skill-item {
  background: white;
  padding: 1.5rem;
  margin-bottom: 1rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: var(--transition-normal);
  flex-wrap: wrap;
  gap: 1rem;
}

[data-theme="dark"] .pending-skill-item {
  background: var(--light-gray);
}

.pending-skill-item:hover {
  transform: translateX(5px);
  box-shadow: var(--shadow-md);
}

.skill-info {
  flex: 1;
}

.skill-actions {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.message-composer {
  background: white;
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

[data-theme="dark"] .message-composer {
  background: var(--light-gray);
}

.message-composer input,
.message-composer textarea {
  width: 100%;
  padding: 1rem;
  border: none;
  border-radius: var(--radius-md);
  background: var(--light-gray);
  margin-bottom: 1rem;
  transition: var(--transition-normal);
  box-sizing: border-box;
  color: var(--dark);
}

[data-theme="dark"] .message-composer input,
[data-theme="dark"] .message-composer textarea {
  background: #3d3d3d;
  color: var(--dark);
}

.message-composer textarea {
  min-height: 150px;
  resize: vertical;
}

.message-composer input:focus,
.message-composer textarea:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .message-composer input:focus,
[data-theme="dark"] .message-composer textarea:focus {
  background: #4d4d4d;
}

.message-options {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.report-filters {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.report-filters select,
.report-filters input {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: var(--radius-full);
  background: var(--light-gray);
  transition: var(--transition-normal);
  color: var(--dark);
}

[data-theme="dark"] .report-filters select,
[data-theme="dark"] .report-filters input {
  background: #3d3d3d;
  color: var(--dark);
}

.report-filters select:focus,
.report-filters input:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .report-filters select:focus,
[data-theme="dark"] .report-filters input:focus {
  background: #4d4d4d;
}

.report-results {
  background: white;
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  min-height: 300px;
}

[data-theme="dark"] .report-results {
  background: var(--light-gray);
}

/* Modals */
.modal {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  overflow: auto;
  animation: fadeIn 0.3s ease;
}

.modal-content {
  background: white;
  margin: 5% auto;
  padding: 2.5rem;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  width: 90%;
  max-width: 500px;
  position: relative;
  animation: slideUp 0.4s ease;
}

[data-theme="dark"] .modal-content {
  background: var(--light-gray);
}

@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.close-modal {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  font-size: 1.5rem;
  color: var(--gray);
  cursor: pointer;
  transition: var(--transition-fast);
}

.close-modal:hover {
  color: var(--dark);
  transform: rotate(90deg);
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--dark);
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 1rem 1.5rem;
  border: none;
  border-radius: var(--radius-full);
  background: var(--light-gray);
  font-size: 1rem;
  transition: var(--transition-normal);
  box-sizing: border-box;
  color: var(--dark);
}

.form-group textarea {
  border-radius: var(--radius-md);
  resize: vertical;
  min-height: 120px;
}

[data-theme="dark"] .form-group input,
[data-theme="dark"] .form-group textarea {
  background: #3d3d3d;
  color: var(--dark);
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 3px var(--primary-light);
}

[data-theme="dark"] .form-group input:focus,
[data-theme="dark"] .form-group textarea:focus {
  background: #4d4d4d;
}

.auth-links {
  margin-top: 1.5rem;
  text-align: center;
}

.auth-links a {
  color: var(--primary);
  font-weight: 500;
  transition: var(--transition-fast);
  text-decoration: none;
}

.auth-links a:hover {
  color: var(--primary-dark);
  text-decoration: underline;
}

/* Auth Container Styles */
.auth-container {
  max-width: 450px;
  margin: 0 auto;
}

.auth-header {
  text-align: center;
  margin-bottom: 2rem;
}

.auth-header h2 {
  color: var(--dark);
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
}

.auth-header p {
  color: var(--gray);
  font-size: 0.95rem;
}

.auth-form .form-group {
  margin-bottom: 1.5rem;
}

.auth-form label {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--dark);
  font-size: 0.95rem;
  font-weight: 500;
}

.auth-form input {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--light-gray);
  border-radius: 8px;
  font-size: 0.95rem;
  transition: all 0.3s;
  box-sizing: border-box;
  background: white;
  color: var(--dark);
}

[data-theme="dark"] .auth-form input {
  background: #3d3d3d;
  border-color: #4d4d4d;
  color: var(--dark);
}

.auth-form input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
}

.password-strength {
  margin-top: 0.5rem;
  height: 4px;
  background: var(--light-gray);
  border-radius: 2px;
  overflow: hidden;
}

[data-theme="dark"] .password-strength {
  background: #4d4d4d;
}

.strength-indicator {
  height: 100%;
  width: 0;
  transition: width 0.3s, background 0.3s;
}

.strength-text {
  font-size: 0.8rem;
  margin-top: 0.3rem;
  text-align: right;
}

.strength-weak {
  background: #ff7675;
  width: 33%;
}

.strength-medium {
  background: #fdcb6e;
  width: 66%;
}

.strength-strong {
  background: #00b894;
  width: 100%;
}

.auth-btn {
  width: 100%;
  padding: 12px;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
  margin-top: 1rem;
}

.auth-btn:hover {
  background-color: var(--primary-dark);
}

.auth-link {
  text-align: center;
  margin-top: 1.5rem;
  font-size: 0.95rem;
  color: var(--gray);
}

.auth-link a {
  color: var(--primary);
  text-decoration: none;
  font-weight: 500;
}

.auth-link a:hover {
  text-decoration: underline;
}

.error-message {
  color: var(--danger);
  font-size: 0.85rem;
  margin-top: 0.3rem;
  display: none;
}

/* Rating Modal Specific Styles */
.rating-form {
  text-align: center;
}

.rating-input {
  display: flex;
  justify-content: center;
  margin: 2rem 0;
  gap: 0.3rem;
}

.rating-input i {
  font-size: 2.5rem;
  color: var(--light-gray);
  cursor: pointer;
  transition: var(--transition-fast);
}

.rating-input i:hover,
.rating-input i.hover {
  transform: scale(1.2);
  color: var(--warning);
}

.rating-input i.active {
  color: var(--warning);
  transform: scale(1.3);
}

.rating-actions {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

/* Footer */
.app-footer {
  background: var(--gradient-primary);
  color: white;
  padding: 4rem 2rem 2rem;
  margin-top: 4rem;
  position: relative;
  overflow: hidden;
}

.app-footer::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIvPjwvc3ZnPg==");
  opacity: 0.3;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 3rem;
  position: relative;
  z-index: 1;
}

.footer-section h3,
.footer-section h4 {
  color: white;
  margin-bottom: 1.5rem;
  position: relative;
  display: inline-block;
}

.footer-section h3::after,
.footer-section h4::after {
  content: "";
  position: absolute;
  bottom: -0.5rem;
  left: 0;
  width: 50px;
  height: 3px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-full);
}

.footer-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-section li {
  margin-bottom: 0.75rem;
}

.footer-section a {
  color: rgba(255, 255, 255, 0.8);
  transition: var(--transition-fast);
  display: inline-block;
  text-decoration: none;
}

.footer-section a:hover {
  color: white;
  transform: translateX(5px);
}

.social-icons {
  display: flex;
  gap: 1rem;
}

.social-icons a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  color: white;
  font-size: 1.2rem;
  transition: var(--transition-normal);
  text-decoration: none;
}

.social-icons a:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-3px);
}

.footer-bottom {
  max-width: 1200px;
  margin: 3rem auto 0;
  padding-top: 2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  position: relative;
  z-index: 1;
  gap: 1rem;
}

.footer-links {
  display: flex;
  gap: 1.5rem;
}

.footer-links a {
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.9rem;
  transition: var(--transition-fast);
  text-decoration: none;
}

.footer-links a:hover {
  color: white;
}

/* Toast Notifications */
.toast {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  background: var(--dark);
  color: white;
  padding: 1rem 1.5rem;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  z-index: 2000;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transform: translateY(100px);
  opacity: 0;
  transition: var(--transition-normal);
}

[data-theme="dark"] .toast {
  background: white;
  color: var(--dark);
}

.toast.show {
  transform: translateY(0);
  opacity: 1;
}

.toast i {
  font-size: 1.2rem;
}

.toast-success {
  background: var(--success);
  color: white;
}

.toast-error {
  background: var(--danger);
  color: white;
}

.toast-warning {
  background: var(--warning);
  color: var(--dark);
}

.toast-info {
  background: var(--info);
  color: white;
}

/* Pagination Styles */
.pagination-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 2rem;
  padding: 1rem;
}

.pagination-btn {
  padding: 0.5rem 1rem;
  border: 1px solid var(--light-gray);
  background: white;
  color: var(--dark);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: var(--transition-fast);
  font-size: 0.9rem;
}

[data-theme="dark"] .pagination-btn {
  background: var(--light-gray);
  border-color: #4d4d4d;
  color: var(--dark);
}

.pagination-btn:hover:not(:disabled) {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

.pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination-btn.active {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

.pagination-info {
  margin: 0 1rem;
  color: var(--gray);
  font-size: 0.9rem;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .hero-section {
    flex-direction: column;
    text-align: center;
  }

  .hero-text {
    margin-bottom: 3rem;
  }

  .profile-header {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 768px) {
  .app-header {
    flex-direction: column;
    padding: 1rem;
  }

  .main-nav {
    margin: 1rem 0;
    width: 100%;
  }

  .nav-list {
    flex-wrap: wrap;
    justify-content: center;
  }

  .user-controls {
    margin-top: 1rem;
    justify-content: center;
  }

  .search-bar {
    flex-direction: column;
  }

  .filter-options {
    flex-direction: column;
  }

  .modal-content {
    width: 95%;
    padding: 1.5rem;
    margin: 10% auto;
  }

  .swap-modal-large {
    width: 98%;
    margin: 2% auto;
    max-height: 95vh;
    overflow-y: auto;
  }

  .skills-selection-section {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .swap-users-section {
    flex-direction: column;
    gap: 1rem;
  }

  .swap-arrow-section {
    transform: rotate(90deg);
    padding: 0.5rem 0;
  }

  .swap-skills-info {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    text-align: center;
  }

  .swap-skills-info .swap-arrow {
    transform: rotate(90deg);
    justify-self: center;
  }

  .swap-actions-section {
    flex-direction: column;
  }

  .swap-actions-row {
    justify-content: center;
  }

  .pagination-container {
    flex-wrap: wrap;
    gap: 0.3rem;
  }

  .pagination-btn {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
  }

  .floating-skill {
    min-width: 100px;
    padding: 15px;
  }

  .floating-skill .skill-icon {
    font-size: 2rem;
  }

  .floating-skill span {
    font-size: 0.8rem;
  }
}

@media (max-width: 576px) {
  .main-content {
    padding: 1rem;
  }

  .results-grid {
    grid-template-columns: 1fr;
  }

  .profile-sections {
    grid-template-columns: 1fr;
  }

  .footer-content {
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  .footer-bottom {
    flex-direction: column;
    gap: 1rem;
    text-align: center;
  }

  .footer-links {
    justify-content: center;
  }

  .admin-table-container {
    font-size: 0.8rem;
  }

  .admin-table th,
  .admin-table td {
    padding: 0.5rem;
  }

  .swap-participants {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }

  .swap-participants .swap-arrow {
    transform: rotate(90deg);
  }

  .user-profile-card img {
    width: 50px;
    height: 50px;
  }

  .user-profile-card h3 {
    font-size: 1rem;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--light-gray);
}

::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary-dark);
}

/* Utility Classes */
.no-results,
.no-swaps,
.no-skills {
  text-align: center;
  color: var(--gray);
  padding: 2rem;
  font-style: italic;
}

.badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-primary {
  background: var(--primary);
  color: white;
}

.badge-secondary {
  background: var(--secondary);
  color: white;
}

.badge-accent {
  background: var(--accent);
  color: white;
}

/* Loading States */
.loading-spinner {
  display: inline-block;
  width: 2rem;
  height: 2rem;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: var(--primary);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus styles for better accessibility */
button:focus,
input:focus,
select:focus,
textarea:focus,
a:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --primary: #0000ff;
    --secondary: #ff0000;
    --dark: #000000;
    --light: #ffffff;
    --gray: #666666;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .floating-skills-container {
    display: none;
  }
}</style>
<body>
    <!-- Floating Skills Animation -->
    <div class="floating-skills-container" id="floating-skills">
        <div class="floating-skill" data-skill="JavaScript">
            <div class="skill-icon">
                <i class="fab fa-js-square"></i>
            </div>
            <span>JavaScript</span>
        </div>
        <div class="floating-skill" data-skill="Python">
            <div class="skill-icon">
                <i class="fab fa-python"></i>
            </div>
            <span>Python</span>
        </div>
        <div class="floating-skill" data-skill="Design">
            <div class="skill-icon">
                <i class="fas fa-palette"></i>
            </div>
            <span>Design</span>
        </div>
        <div class="floating-skill" data-skill="Music">
            <div class="skill-icon">
                <i class="fas fa-music"></i>
            </div>
            <span>Music</span>
        </div>
        <div class="floating-skill" data-skill="Photography">
            <div class="skill-icon">
                <i class="fas fa-camera"></i>
            </div>
            <span>Photography</span>
        </div>
        <div class="floating-skill" data-skill="Writing">
            <div class="skill-icon">
                <i class="fas fa-pen"></i>
            </div>
            <span>Writing</span>
        </div>
    </div>

    <div class="app-container">
        <!-- Header/Navigation -->
        <header class="app-header">
            <div class="logo-container">
                <h1 class="logo">SkillSwap</h1>
                <p class="tagline">Trade skills, grow together</p>
            </div>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="#" class="nav-link active" id="nav-home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" class="nav-link" id="nav-browse"><i class="fas fa-search"></i> Browse</a></li>
                    <li><a href="#" class="nav-link" id="nav-swaps"><i class="fas fa-exchange-alt"></i> My Swaps</a></li>
                    <li><a href="#" class="nav-link" id="nav-profile"><i class="fas fa-user"></i> Profile</a></li>
                    <li><a href="#" class="nav-link" id="nav-admin" style="display:none;"><i class="fas fa-shield-alt"></i> Admin</a></li>
                </ul>
            </nav>
            <div class="user-controls">
                <!-- Theme Toggle Button -->
                <button id="theme-toggle-btn" class="btn btn-outline theme-toggle" title="Toggle Dark/Light Mode">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
                
                <!-- Login/Signup Buttons (shown when not logged in) -->
                <button id="login-btn" class="btn btn-outline">Login</button>
                <button id="signup-btn" class="btn btn-primary">Sign Up</button>
                
                <!-- User Profile and Logout (shown when logged in) -->
                <div id="user-profile-btn" style="display:none;" class="user-profile-container">
                    <img src="/placeholder.svg" alt="Profile" class="profile-pic-small">
                </div>
                <button id="logout-btn" style="display:none;" class="btn btn-outline">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Home View -->
            <section id="home-view" class="content-view">
                <div class="hero-section">
                    <div class="hero-text">
                        <h2>Trade Your Skills, Grow Together</h2>
                        <p>Connect with people who have the skills you need and offer what you know in return.</p>
                        <button class="btn btn-primary btn-large" id="get-started-btn">Get Started</button>
                    </div>
                    <div class="hero-image">
                        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80" alt="People collaborating">
                    </div>
                </div>

                <div class="featured-skills">
                    <h3>Popular Skills on SkillSwap</h3>
                    <div class="skills-grid" id="popular-skills">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="testimonials">
                    <h3>What Our Users Say</h3>
                    <div class="testimonial-carousel">
                        <div class="testimonial">
                            <p>"I learned graphic design in exchange for teaching Spanish. Amazing platform!"</p>
                            <div class="testimonial-author">- Maria, Barcelona</div>
                        </div>
                        <div class="testimonial">
                            <p>"Found someone to help me with coding while I taught them photography."</p>
                            <div class="testimonial-author">- James, London</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Browse View -->
            <section id="browse-view" class="content-view" style="display:none;">
                <div class="search-filters">
                    <div class="search-bar">
                        <input type="text" id="skill-search" placeholder="Search for skills...">
                        <button class="btn btn-primary" id="search-btn"><i class="fas fa-search"></i></button>
                    </div>
                    <div class="filter-options">
                        <select id="location-filter">
                            <option value="">Any Location</option>
                            <option value="remote">Remote Only</option>
                            <!-- More options added dynamically -->
                        </select>
                        <select id="availability-filter">
                            <option value="">Any Availability</option>
                            <option value="weekends">Weekends</option>
                            <option value="evenings">Evenings</option>
                            <option value="weekdays">Weekdays</option>
                        </select>
                        <button class="btn btn-outline" id="reset-filters">Reset Filters</button>
                    </div>
                </div>

                <div class="results-container">
                    <div class="results-count">
                        <span id="results-count">0</span> results found
                    </div>
                    <div class="results-grid" id="search-results">
                        <!-- Dynamically populated -->
                    </div>
                    <div class="pagination">
                        <button class="btn btn-outline" id="prev-page" disabled>Previous</button>
                        <span id="page-info">Page 1 of 1</span>
                        <button class="btn btn-outline" id="next-page" disabled>Next</button>
                    </div>
                </div>
            </section>

            <!-- My Swaps View -->
            <section id="swaps-view" class="content-view" style="display:none;">
                <div class="swaps-tabs">
                    <button class="tab-btn active" data-tab="pending">Pending Requests</button>
                    <button class="tab-btn" data-tab="accepted">Accepted Swaps</button>
                    <button class="tab-btn" data-tab="completed">Completed Swaps</button>
                </div>

                <div class="tab-content active" id="pending-tab">
                    <div class="swaps-list" id="pending-swaps">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="tab-content" id="accepted-tab">
                    <div class="swaps-list" id="accepted-swaps">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="tab-content" id="completed-tab">
                    <div class="swaps-list" id="completed-swaps">
                        <!-- Dynamically populated -->
                    </div>
                </div>
            </section>

            <!-- Profile View -->
            <section id="profile-view" class="content-view" style="display:none;">
                <div class="profile-header">
                    <div class="profile-pic-container">
                        <img src="/placeholder.svg" alt="Profile Picture" class="profile-pic-large" id="profile-pic">
                        <button class="btn btn-outline" id="change-photo-btn">Change Photo</button>
                        <input type="file" id="photo-upload" accept="image/*" style="display:none;">
                    </div>
                    <div class="profile-info">
                        <h2 id="profile-name">Your Profile</h2>
                        <div class="profile-location" id="profile-location">
                            <i class="fas fa-map-marker-alt"></i> <span id="location-text">Not specified</span>
                        </div>
                        <div class="profile-status">
                            <span class="status-badge" id="profile-status">Private</span>
                            <button class="btn btn-outline btn-small" id="toggle-status-btn">Make Public</button>
                        </div>
                        <div class="profile-actions">
                            <button class="btn btn-primary btn-small" id="edit-profile-btn">
                                <i class="fas fa-edit"></i> Edit Profile
                            </button>
                        </div>
                    </div>
                </div>

                <div class="profile-sections">
                    <div class="profile-section">
                        <h3><i class="fas fa-tools"></i> Skills I Offer</h3>
                        <div class="skills-list" id="offered-skills">
                            <!-- Dynamically populated -->
                        </div>
                        <div class="add-skill">
                            <input type="text" id="new-offered-skill" placeholder="Add a skill you offer">
                            <button class="btn btn-primary btn-small" id="add-offered-skill">Add</button>
                        </div>
                    </div>

                    <div class="profile-section">
                        <h3><i class="fas fa-lightbulb"></i> Skills I Want</h3>
                        <div class="skills-list" id="wanted-skills">
                            <!-- Dynamically populated -->
                        </div>
                        <div class="add-skill">
                            <input type="text" id="new-wanted-skill" placeholder="Add a skill you want">
                            <button class="btn btn-primary btn-small" id="add-wanted-skill">Add</button>
                        </div>
                    </div>

                    <div class="profile-section">
                        <h3><i class="fas fa-calendar-alt"></i> Availability</h3>
                        <div class="availability-options">
                            <label class="checkbox-container">Weekends
                                <input type="checkbox" id="weekends-availability">
                                <span class="checkmark"></span>
                            </label>
                            <label class="checkbox-container">Evenings
                                <input type="checkbox" id="evenings-availability">
                                <span class="checkmark"></span>
                            </label>
                            <label class="checkbox-container">Weekdays
                                <input type="checkbox" id="weekdays-availability">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>

                    <div class="profile-section">
                        <h3><i class="fas fa-star"></i> My Ratings</h3>
                        <div class="ratings-container" id="user-ratings">
                            <!-- Dynamically populated -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Admin View -->
            <section id="admin-view" class="content-view" style="display:none;">
                <div class="admin-tabs">
                    <button class="tab-btn active" data-tab="admin-users">User Management</button>
                    <button class="tab-btn" data-tab="admin-content">Content Moderation</button>
                    <button class="tab-btn" data-tab="admin-messages">Platform Messages</button>
                    <button class="tab-btn" data-tab="admin-reports">Reports</button>
                </div>

                <div class="tab-content active" id="admin-users-tab">
                    <div class="admin-controls">
                        <input type="text" id="admin-user-search" placeholder="Search users...">
                        <button class="btn btn-primary" id="admin-search-btn">Search</button>
                        <button class="btn btn-danger" id="export-users-btn">Export User Data</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-table">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="admin-content-tab">
                    <h3>Pending Skill Approvals</h3>
                    <div class="pending-skills-list" id="pending-skills-list">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="tab-content" id="admin-messages-tab">
                    <div class="message-composer">
                        <h3>Send Platform Message</h3>
                        <input type="text" id="message-subject" placeholder="Message subject">
                        <textarea id="message-content" placeholder="Type your message here..."></textarea>
                        <div class="message-options">
                            <label class="checkbox-container">Send as urgent
                                <input type="checkbox" id="urgent-message">
                                <span class="checkmark"></span>
                            </label>
                            <button class="btn btn-primary" id="send-message-btn">Send to All Users</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="admin-reports-tab">
                    <div class="report-filters">
                        <select id="report-type">
                            <option value="swaps">Swap Statistics</option>
                            <option value="users">User Activity</option>
                            <option value="feedback">Feedback Logs</option>
                        </select>
                        <input type="date" id="report-start-date">
                        <input type="date" id="report-end-date">
                        <button class="btn btn-primary" id="generate-report-btn">Generate Report</button>
                        <button class="btn btn-outline" id="download-report-btn">Download CSV</button>
                    </div>
                    <div class="report-results" id="report-results">
                        <!-- Report data will be displayed here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Authentication Modals -->
        <div class="modal" id="login-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Login to SkillSwap</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <div class="auth-links">
                    <a href="#" id="forgot-password-link">Forgot username/password?</a>
                    <p>Don't have an account? <a href="#" id="show-signup-link">Sign up</a></p>
                </div>
            </div>
        </div>

        <div class="modal" id="signup-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>Create Your Account</h2>
                        <p>Join our community to start swapping skills</p>
                    </div>
                    
                    <form id="signup-form" class="auth-form">
                        <div class="form-group">
                            <label for="signup-name">Full Name</label>
                            <input type="text" id="signup-name" placeholder="Enter your full name" required>
                            <div id="name-error" class="error-message">Please enter your name</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="signup-email">Email Address</label>
                            <input type="email" id="signup-email" placeholder="Enter your email" required>
                            <div id="email-error" class="error-message">Please enter a valid email</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="signup-password">Password</label>
                            <input type="password" id="signup-password" placeholder="Create a password" required>
                            <div class="password-strength">
                                <div id="strength-indicator" class="strength-indicator"></div>
                            </div>
                            <div id="strength-text" class="strength-text"></div>
                            <div id="password-error" class="error-message"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="signup-confirm-password">Confirm Password</label>
                            <input type="password" id="signup-confirm-password" placeholder="Confirm your password" required>
                            <div id="confirm-password-error" class="error-message">Passwords don't match</div>
                        </div>
                        
                        <button type="submit" class="auth-btn">Sign Up</button>
                    </form>
                    
                    <div class="auth-link">
                        Already have an account? <a href="#" id="show-login-link">Log In</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Swap Modal -->
        <div class="modal" id="swap-modal">
            <div class="modal-content swap-modal-large">
                <span class="close-modal">&times;</span>
                <h2 id="swap-modal-title">Skill Swap Request</h2>
                <div id="swap-modal-content">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Rating Modal -->
        <div class="modal" id="rating-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2 id="rating-modal-title">Rate Your Swap Experience</h2>
                <div id="rating-modal-content">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Forgot Password Modal -->
        <div class="modal" id="forgot-password-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>Reset Your Password</h2>
                        <p>Enter your email address and we'll send you a reset link</p>
                    </div>
            
                    <form id="forgot-password-form" class="auth-form">
                        <div class="form-group">
                            <label for="forgot-email">Email Address</label>
                            <input type="email" id="forgot-email" placeholder="Enter your email" required>
                            <div id="forgot-email-error" class="error-message">Please enter a valid email</div>
                        </div>
                
                        <button type="submit" class="auth-btn">Send Reset Link</button>
                    </form>
            
                    <div class="auth-link">
                        Remember your password? <a href="#" id="back-to-login-link">Back to Login</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Profile Modal -->
        <div class="modal" id="edit-profile-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>Edit Profile</h2>
                        <p>Update your profile information</p>
                    </div>
            
                    <form id="edit-profile-form" class="auth-form">
                        <div class="form-group">
                            <label for="edit-name">Full Name</label>
                            <input type="text" id="edit-name" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-email">Email Address</label>
                            <input type="email" id="edit-email" placeholder="Enter your email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-location">Location</label>
                            <input type="text" id="edit-location" placeholder="Enter your location">
                        </div>
                
                        <div class="form-group">
                            <label for="edit-bio">Bio (Optional)</label>
                            <textarea id="edit-bio" placeholder="Tell us about yourself..." rows="4"></textarea>
                        </div>
                
                        <button type="submit" class="auth-btn">Save Changes</button>
                    </form>
            
                    <div class="auth-link">
                        <a href="#" id="cancel-edit-profile">Cancel</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>SkillSwap</h3>
                    <p>Connecting people through skill exchange since 2023.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Safety Tips</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="#">support@skillswap.com</a></li>
                        <li><a href="#">Report an Issue</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Follow Us</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 SkillSwap. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
            </div>
        </footer>
    </div>

    <script>// SkillSwap Platform - JavaScript Implementation

// Global Variables
let currentUser = null
let isAdmin = false
let users = []
let skills = []
let swapRequests = []
let ratings = []
let isDarkMode = false
const locations = ["Remote", "New York", "London", "Tokyo", "Berlin", "Sydney", "Paris"]
const popularSkills = [
  "Graphic Design",
  "Web Development",
  "Spanish",
  "Photography",
  "Cooking",
  "Excel",
  "Photoshop",
  "Yoga",
  "Marketing",
  "Writing",
]

// DOM Elements
const views = {
  home: document.getElementById("home-view"),
  browse: document.getElementById("browse-view"),
  swaps: document.getElementById("swaps-view"),
  profile: document.getElementById("profile-view"),
  admin: document.getElementById("admin-view"),
}

const navLinks = {
  home: document.getElementById("nav-home"),
  browse: document.getElementById("nav-browse"),
  swaps: document.getElementById("nav-swaps"),
  profile: document.getElementById("nav-profile"),
  admin: document.getElementById("nav-admin"),
}

const modals = {
  login: document.getElementById("login-modal"),
  signup: document.getElementById("signup-modal"),
  swap: document.getElementById("swap-modal"),
  rating: document.getElementById("rating-modal"),
  forgotPassword: document.getElementById("forgot-password-modal"),
  editProfile: document.getElementById("edit-profile-modal"),
}

// Initialize the application
document.addEventListener("DOMContentLoaded", () => {
  // Load sample data
  loadSampleData()

  // Set up event listeners
  setupEventListeners()

  // Show home view by default
  showView("home")

  // Check if user is logged in (for demo purposes)
  checkLoginStatus()

  // Initialize UI components
  initUIComponents()

  // Show floating skills animation on first visit
  showFloatingSkills()

  // Initialize theme
  initializeTheme()
})

// Theme Management
function initializeTheme() {
  // Check for saved theme preference or default to light mode
  const savedTheme = localStorage.getItem("theme") || "light"
  isDarkMode = savedTheme === "dark"
  applyTheme()
}

function toggleTheme() {
  isDarkMode = !isDarkMode
  localStorage.setItem("theme", isDarkMode ? "dark" : "light")
  applyTheme()
}

function applyTheme() {
  const body = document.body
  const themeIcon = document.getElementById("theme-icon")

  if (isDarkMode) {
    body.setAttribute("data-theme", "dark")
    if (themeIcon) themeIcon.className = "fas fa-sun"
  } else {
    body.removeAttribute("data-theme")
    if (themeIcon) themeIcon.className = "fas fa-moon"
  }
}

// Show floating skills animation
function showFloatingSkills() {
  const floatingContainer = document.getElementById("floating-skills")
  if (floatingContainer) {
    floatingContainer.classList.add("active")

    // Hide after 5 seconds
    setTimeout(() => {
      floatingContainer.classList.remove("active")
    }, 5000)

    // Add click handlers to floating skills
    const floatingSkills = document.querySelectorAll(".floating-skill")
    floatingSkills.forEach((skill) => {
      skill.addEventListener("click", () => {
        const skillName = skill.getAttribute("data-skill")
        document.getElementById("skill-search").value = skillName
        showView("browse")
        renderBrowseView()
        floatingContainer.classList.remove("active")
      })
    })
  }
}

// Password strength checker
function checkPasswordStrength(password) {
  // Reset indicators
  const strengthIndicator = document.getElementById("strength-indicator")
  const strengthText = document.getElementById("strength-text")

  if (!strengthIndicator || !strengthText) return

  strengthIndicator.className = "strength-indicator"
  strengthText.textContent = ""

  if (!password) return

  let strength = 0

  // Length check
  if (password.length > 7) strength++
  if (password.length > 11) strength++

  // Character variety checks
  if (/[A-Z]/.test(password)) strength++
  if (/[0-9]/.test(password)) strength++
  if (/[^A-Za-z0-9]/.test(password)) strength++

  if (password.length < 8) {
    strengthIndicator.className = "strength-indicator strength-weak"
    strengthText.textContent = "Too short"
    strengthText.style.color = "#ff7675"
  } else if (strength < 3) {
    strengthIndicator.className = "strength-indicator strength-weak"
    strengthText.textContent = "Weak"
    strengthText.style.color = "#ff7675"
  } else if (strength < 5) {
    strengthIndicator.className = "strength-indicator strength-medium"
    strengthText.textContent = "Medium"
    strengthText.style.color = "#fdcb6e"
  } else {
    strengthIndicator.className = "strength-indicator strength-strong"
    strengthText.textContent = "Strong"
    strengthText.style.color = "#00b894"
  }
}

// Enhanced signup validation
function validateSignupForm() {
  const name = document.getElementById("signup-name").value.trim()
  const email = document.getElementById("signup-email").value.trim()
  const password = document.getElementById("signup-password").value
  const confirmPassword = document.getElementById("signup-confirm-password").value

  // Reset errors
  document.querySelectorAll(".error-message").forEach((el) => {
    el.style.display = "none"
  })

  let isValid = true

  // Name validation
  if (!name) {
    const nameError = document.getElementById("name-error")
    if (nameError) nameError.style.display = "block"
    isValid = false
  }

  // Email validation
  if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    const emailError = document.getElementById("email-error")
    if (emailError) emailError.style.display = "block"
    isValid = false
  }

  // Password validation
  const passwordError = document.getElementById("password-error")
  if (passwordError) {
    if (password.length < 8) {
      passwordError.textContent = "Password must be at least 8 characters"
      passwordError.style.display = "block"
      isValid = false
    } else if (!/[A-Z]/.test(password)) {
      passwordError.textContent = "Password must contain at least one uppercase letter"
      passwordError.style.display = "block"
      isValid = false
    } else if (!/[0-9]/.test(password)) {
      passwordError.textContent = "Password must contain at least one number"
      passwordError.style.display = "block"
      isValid = false
    } else if (!/[^A-Za-z0-9]/.test(password)) {
      passwordError.textContent = "Password must contain at least one special character"
      passwordError.style.display = "block"
      isValid = false
    }
  }

  // Confirm password
  if (password !== confirmPassword) {
    const confirmPasswordError = document.getElementById("confirm-password-error")
    if (confirmPasswordError) confirmPasswordError.style.display = "block"
    isValid = false
  }

  return isValid
}

// Load sample data for demonstration
function loadSampleData() {
  // Sample users
  users = [
    {
      id: 1,
      name: "John Doe",
      email: "john@example.com",
      password: "password123",
      location: "New York",
      bio: "Passionate web developer with 5 years of experience.",
      profilePhoto: "https://randomuser.me/api/portraits/men/32.jpg",
      isPublic: true,
      offeredSkills: ["Web Development", "JavaScript", "React"],
      wantedSkills: ["Graphic Design", "Photography"],
      availability: ["weekends", "evenings"],
      isAdmin: false,
    },
    {
      id: 2,
      name: "Jane Smith",
      email: "jane@example.com",
      password: "password123",
      location: "London",
      bio: "Creative designer who loves bringing ideas to life.",
      profilePhoto: "https://randomuser.me/api/portraits/women/44.jpg",
      isPublic: true,
      offeredSkills: ["Graphic Design", "Photoshop", "Illustrator"],
      wantedSkills: ["Web Development", "Spanish"],
      availability: ["weekdays", "evenings"],
      isAdmin: false,
    },
    {
      id: 3,
      name: "Admin User",
      email: "admin@example.com",
      password: "admin123",
      location: "Remote",
      bio: "Platform administrator and project manager.",
      profilePhoto: "https://randomuser.me/api/portraits/men/75.jpg",
      isPublic: false,
      offeredSkills: ["Project Management", "Coaching"],
      wantedSkills: ["Data Analysis", "Machine Learning"],
      availability: ["weekdays"],
      isAdmin: true,
    },
  ]

  // Generate more sample users
  for (let i = 4; i <= 20; i++) {
    users.push({
      id: i,
      name: `User ${i}`,
      email: `user${i}@example.com`,
      password: `password${i}`,
      location: locations[Math.floor(Math.random() * locations.length)],
      bio: `I'm User ${i} and I love learning new skills!`,
      profilePhoto: `https://randomuser.me/api/portraits/${Math.random() > 0.5 ? "men" : "women"}/${Math.floor(Math.random() * 100)}.jpg`,
      isPublic: Math.random() > 0.3,
      offeredSkills: getRandomSkills(2, 4),
      wantedSkills: getRandomSkills(2, 4),
      availability: getRandomAvailability(),
      isAdmin: false,
    })
  }

  // Sample swap requests
  swapRequests = [
    {
      id: 1,
      fromUserId: 1,
      toUserId: 2,
      offeredSkill: "Web Development",
      wantedSkill: "Graphic Design",
      message: "I can help you with web development in exchange for graphic design lessons.",
      status: "pending",
      createdAt: new Date("2023-05-15"),
    },
    {
      id: 2,
      fromUserId: 2,
      toUserId: 1,
      offeredSkill: "Photoshop",
      wantedSkill: "JavaScript",
      message: "I can teach you Photoshop basics if you help me with JavaScript.",
      status: "accepted",
      createdAt: new Date("2023-05-10"),
    },
    {
      id: 3,
      fromUserId: 1,
      toUserId: 3,
      offeredSkill: "React",
      wantedSkill: "Data Analysis",
      message: "Looking to learn data analysis in exchange for React tutoring.",
      status: "completed",
      createdAt: new Date("2023-04-20"),
      completedAt: new Date("2023-05-01"),
    },
  ]

  // Sample ratings
  ratings = [
    {
      id: 1,
      swapId: 3,
      fromUserId: 1,
      toUserId: 3,
      rating: 5,
      comment: "Great teacher! Learned a lot about data analysis.",
      createdAt: new Date("2023-05-02"),
    },
    {
      id: 2,
      swapId: 3,
      fromUserId: 3,
      toUserId: 1,
      rating: 4,
      comment: "Very knowledgeable about React.",
      createdAt: new Date("2023-05-02"),
    },
  ]

  // Extract all unique skills from users
  const allSkills = new Set()
  users.forEach((user) => {
    user.offeredSkills.forEach((skill) => allSkills.add(skill))
    user.wantedSkills.forEach((skill) => allSkills.add(skill))
  })
  skills = Array.from(allSkills)
}

// Helper function to get random skills
function getRandomSkills(min, max) {
  const count = Math.floor(Math.random() * (max - min + 1)) + min
  const shuffled = [...popularSkills].sort(() => 0.5 - Math.random())
  return shuffled.slice(0, count)
}

// Helper function to get random availability
function getRandomAvailability() {
  const options = ["weekends", "evenings", "weekdays"]
  const count = Math.floor(Math.random() * 3) + 1
  const shuffled = [...options].sort(() => 0.5 - Math.random())
  return shuffled.slice(0, count)
}

// Set up all event listeners
function setupEventListeners() {
  // Theme toggle
  const themeToggleBtn = document.getElementById("theme-toggle-btn")
  if (themeToggleBtn) {
    themeToggleBtn.addEventListener("click", toggleTheme)
  }

  // Navigation links
  if (navLinks.home) {
    navLinks.home.addEventListener("click", (e) => {
      e.preventDefault()
      showView("home")
    })
  }

  if (navLinks.browse) {
    navLinks.browse.addEventListener("click", (e) => {
      e.preventDefault()
      showView("browse")
      renderBrowseView()
    })
  }

  if (navLinks.swaps) {
    navLinks.swaps.addEventListener("click", (e) => {
      e.preventDefault()
      if (!currentUser) {
        openModal("login")
        return
      }
      showView("swaps")
      renderSwapsView()
    })
  }

  if (navLinks.profile) {
    navLinks.profile.addEventListener("click", (e) => {
      e.preventDefault()
      if (!currentUser) {
        openModal("login")
        return
      }
      showView("profile")
      renderProfileView()
    })
  }

  if (navLinks.admin) {
    navLinks.admin.addEventListener("click", (e) => {
      e.preventDefault()
      showView("admin")
      renderAdminView()
    })
  }

  // User profile button
  const userProfileBtn = document.getElementById("user-profile-btn")
  if (userProfileBtn) {
    userProfileBtn.addEventListener("click", (e) => {
      e.preventDefault()
      if (currentUser) {
        showView("profile")
        renderProfileView()
      } else {
        openModal("login")
      }
    })
  }

  // Logout button
  const logoutBtn = document.getElementById("logout-btn")
  if (logoutBtn) {
    logoutBtn.addEventListener("click", handleLogout)
  }

  // Auth buttons
  const loginBtn = document.getElementById("login-btn")
  if (loginBtn) {
    loginBtn.addEventListener("click", () => {
      openModal("login")
    })
  }

  const signupBtn = document.getElementById("signup-btn")
  if (signupBtn) {
    signupBtn.addEventListener("click", () => {
      openModal("signup")
    })
  }

  const getStartedBtn = document.getElementById("get-started-btn")
  if (getStartedBtn) {
    getStartedBtn.addEventListener("click", () => {
      openModal("signup")
    })
  }

  // Modal close buttons
  document.querySelectorAll(".close-modal").forEach((btn) => {
    btn.addEventListener("click", closeAllModals)
  })

  // Auth forms
  const loginForm = document.getElementById("login-form")
  if (loginForm) {
    loginForm.addEventListener("submit", handleLogin)
  }

  const signupForm = document.getElementById("signup-form")
  if (signupForm) {
    signupForm.addEventListener("submit", handleSignup)
  }

  const showSignupLink = document.getElementById("show-signup-link")
  if (showSignupLink) {
    showSignupLink.addEventListener("click", (e) => {
      e.preventDefault()
      closeAllModals()
      openModal("signup")
    })
  }

  const showLoginLink = document.getElementById("show-login-link")
  if (showLoginLink) {
    showLoginLink.addEventListener("click", (e) => {
      e.preventDefault()
      closeAllModals()
      openModal("login")
    })
  }

  // Forgot password functionality
  const forgotPasswordLink = document.getElementById("forgot-password-link")
  if (forgotPasswordLink) {
    forgotPasswordLink.addEventListener("click", (e) => {
      e.preventDefault()
      closeAllModals()
      openModal("forgotPassword")
    })
  }

  const forgotPasswordForm = document.getElementById("forgot-password-form")
  if (forgotPasswordForm) {
    forgotPasswordForm.addEventListener("submit", handleForgotPassword)
  }

  const backToLoginLink = document.getElementById("back-to-login-link")
  if (backToLoginLink) {
    backToLoginLink.addEventListener("click", (e) => {
      e.preventDefault()
      closeAllModals()
      openModal("login")
    })
  }

  // Edit profile functionality
  const editProfileBtn = document.getElementById("edit-profile-btn")
  if (editProfileBtn) {
    editProfileBtn.addEventListener("click", openEditProfileModal)
  }

  const editProfileForm = document.getElementById("edit-profile-form")
  if (editProfileForm) {
    editProfileForm.addEventListener("submit", handleEditProfile)
  }

  const cancelEditProfile = document.getElementById("cancel-edit-profile")
  if (cancelEditProfile) {
    cancelEditProfile.addEventListener("click", (e) => {
      e.preventDefault()
      closeAllModals()
    })
  }

  // Password strength checking
  const signupPassword = document.getElementById("signup-password")
  if (signupPassword) {
    signupPassword.addEventListener("input", function () {
      checkPasswordStrength(this.value)
    })
  }

  // Profile actions
  const toggleStatusBtn = document.getElementById("toggle-status-btn")
  if (toggleStatusBtn) {
    toggleStatusBtn.addEventListener("click", toggleProfileStatus)
  }

  const addOfferedSkillBtn = document.getElementById("add-offered-skill")
  if (addOfferedSkillBtn) {
    addOfferedSkillBtn.addEventListener("click", addOfferedSkill)
  }

  const addWantedSkillBtn = document.getElementById("add-wanted-skill")
  if (addWantedSkillBtn) {
    addWantedSkillBtn.addEventListener("click", addWantedSkill)
  }

  const changePhotoBtn = document.getElementById("change-photo-btn")
  const photoUpload = document.getElementById("photo-upload")
  if (changePhotoBtn && photoUpload) {
    changePhotoBtn.addEventListener("click", () => {
      photoUpload.click()
    })
    photoUpload.addEventListener("change", handlePhotoUpload)
  }

  // Browse view actions
  const searchBtn = document.getElementById("search-btn")
  if (searchBtn) {
    searchBtn.addEventListener("click", renderBrowseView)
  }

  const skillSearch = document.getElementById("skill-search")
  if (skillSearch) {
    skillSearch.addEventListener("keyup", (e) => {
      if (e.key === "Enter") renderBrowseView()
    })
  }

  const resetFilters = document.getElementById("reset-filters")
  if (resetFilters) {
    resetFilters.addEventListener("click", resetFiltersHandler)
  }

  // Swaps view actions
  document.querySelectorAll(".swaps-tabs .tab-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const tab = e.target.getAttribute("data-tab")
      switchSwapsTab(tab)
    })
  })

  // Admin view actions
  document.querySelectorAll(".admin-tabs .tab-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const tab = e.target.getAttribute("data-tab")
      switchAdminTab(tab)
    })
  })

  const adminSearchBtn = document.getElementById("admin-search-btn")
  if (adminSearchBtn) {
    adminSearchBtn.addEventListener("click", renderAdminUsers)
  }

  const exportUsersBtn = document.getElementById("export-users-btn")
  if (exportUsersBtn) {
    exportUsersBtn.addEventListener("click", exportUserData)
  }

  const sendMessageBtn = document.getElementById("send-message-btn")
  if (sendMessageBtn) {
    sendMessageBtn.addEventListener("click", sendPlatformMessage)
  }

  const generateReportBtn = document.getElementById("generate-report-btn")
  if (generateReportBtn) {
    generateReportBtn.addEventListener("click", generateReport)
  }

  const downloadReportBtn = document.getElementById("download-report-btn")
  if (downloadReportBtn) {
    downloadReportBtn.addEventListener("click", downloadReport)
  }

  // Click outside modal to close
  window.addEventListener("click", (e) => {
    if (e.target.classList.contains("modal")) {
      closeAllModals()
    }
  })

  // Availability checkboxes
  const availabilityCheckboxes = ["weekends-availability", "evenings-availability", "weekdays-availability"]
  availabilityCheckboxes.forEach((id) => {
    const checkbox = document.getElementById(id)
    if (checkbox) {
      checkbox.addEventListener("change", updateAvailability)
    }
  })
}

// View management
function showView(viewName) {
  // Hide all views
  Object.values(views).forEach((view) => {
    if (view) view.style.display = "none"
  })

  // Deactivate all nav links
  Object.values(navLinks).forEach((link) => {
    if (link) link.classList.remove("active")
  })

  // Show selected view and activate nav link
  if (views[viewName]) {
    views[viewName].style.display = "block"
  }
  if (navLinks[viewName]) {
    navLinks[viewName].classList.add("active")
  }

  // Special handling for certain views
  if (viewName === "home") {
    renderHomeView()
  }
}

// Modal management
function openModal(modalName) {
  closeAllModals()
  if (modals[modalName]) {
    modals[modalName].style.display = "block"
  }
}

function closeAllModals() {
  Object.values(modals).forEach((modal) => {
    if (modal) modal.style.display = "none"
  })
}

// Check login status (for demo purposes)
function checkLoginStatus() {
  // For demo, we'll consider no one logged in initially
  updateAuthUI()
}

// Update UI based on authentication status
function updateAuthUI() {
  const loginBtn = document.getElementById("login-btn")
  const signupBtn = document.getElementById("signup-btn")
  const logoutBtn = document.getElementById("logout-btn")
  const userProfileBtn = document.getElementById("user-profile-btn")
  const navAdmin = document.getElementById("nav-admin")

  if (currentUser) {
    if (loginBtn) loginBtn.style.display = "none"
    if (signupBtn) signupBtn.style.display = "none"
    if (logoutBtn) logoutBtn.style.display = "inline-flex"
    if (userProfileBtn) {
      userProfileBtn.style.display = "block"
      const img = userProfileBtn.querySelector("img")
      if (img) {
        img.src = currentUser.profilePhoto
        img.alt = currentUser.name
      }
    }

    if (currentUser.isAdmin) {
      if (navAdmin) navAdmin.style.display = "block"
      isAdmin = true
    } else {
      if (navAdmin) navAdmin.style.display = "none"
      isAdmin = false
    }
  } else {
    if (loginBtn) loginBtn.style.display = "inline-flex"
    if (signupBtn) signupBtn.style.display = "inline-flex"
    if (logoutBtn) logoutBtn.style.display = "none"
    if (userProfileBtn) userProfileBtn.style.display = "none"
    if (navAdmin) navAdmin.style.display = "none"
    isAdmin = false
  }
}

// Authentication handlers
function handleLogin(e) {
  e.preventDefault()

  const emailInput = document.getElementById("login-email")
  const passwordInput = document.getElementById("login-password")

  if (!emailInput || !passwordInput) return

  const email = emailInput.value
  const password = passwordInput.value

  // Find user
  const user = users.find((u) => u.email === email && u.password === password)

  if (user) {
    currentUser = user
    updateAuthUI()
    closeAllModals()
    showView("home")
    renderHomeView()
    showToast("Welcome back!", "success")
  } else {
    showToast("Invalid email or password", "error")
  }
}

function handleSignup(e) {
  e.preventDefault()

  if (!validateSignupForm()) {
    return
  }

  const nameInput = document.getElementById("signup-name")
  const emailInput = document.getElementById("signup-email")
  const passwordInput = document.getElementById("signup-password")

  if (!nameInput || !emailInput || !passwordInput) return

  const name = nameInput.value
  const email = emailInput.value
  const password = passwordInput.value

  if (users.some((u) => u.email === email)) {
    showToast("Email already in use", "error")
    return
  }

  // Create new user
  const newUser = {
    id: users.length + 1,
    name,
    email,
    password,
    location: "",
    bio: "",
    profilePhoto: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=random`,
    isPublic: false,
    offeredSkills: [],
    wantedSkills: [],
    availability: [],
    isAdmin: false,
  }

  users.push(newUser)
  currentUser = newUser
  updateAuthUI()
  closeAllModals()
  showView("profile")
  renderProfileView()
  showToast("Account created successfully!", "success")
}

function handleLogout() {
  currentUser = null
  updateAuthUI()
  showView("home")
  renderHomeView()
  showToast("Logged out successfully", "info")
}

function handleForgotPassword(e) {
  e.preventDefault()

  const emailInput = document.getElementById("forgot-email")
  if (!emailInput) return

  const email = emailInput.value.trim()

  // Reset error
  const emailError = document.getElementById("forgot-email-error")
  if (emailError) emailError.style.display = "none"

  // Validate email
  if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    if (emailError) emailError.style.display = "block"
    return
  }

  // Check if user exists
  const user = users.find((u) => u.email === email)

  if (user) {
    // In a real app, this would send an actual email
    showToast("Password reset link sent to your email!", "success")

    // For demo purposes, show the temporary password
    setTimeout(() => {
      showToast(`Demo: Your temporary password is "temp123" for ${email}`, "info")
    }, 2000)
  } else {
    showToast("No account found with this email address", "error")
  }

  closeAllModals()
}

// Edit Profile functionality
function openEditProfileModal() {
  if (!currentUser) return

  // Populate form with current user data
  const editName = document.getElementById("edit-name")
  const editEmail = document.getElementById("edit-email")
  const editLocation = document.getElementById("edit-location")
  const editBio = document.getElementById("edit-bio")

  if (editName) editName.value = currentUser.name
  if (editEmail) editEmail.value = currentUser.email
  if (editLocation) editLocation.value = currentUser.location || ""
  if (editBio) editBio.value = currentUser.bio || ""

  openModal("editProfile")
}

function handleEditProfile(e) {
  e.preventDefault()

  if (!currentUser) return

  const editName = document.getElementById("edit-name")
  const editEmail = document.getElementById("edit-email")
  const editLocation = document.getElementById("edit-location")
  const editBio = document.getElementById("edit-bio")

  if (!editName || !editEmail) return

  const name = editName.value.trim()
  const email = editEmail.value.trim()
  const location = editLocation ? editLocation.value.trim() : ""
  const bio = editBio ? editBio.value.trim() : ""

  // Validate
  if (!name || !email) {
    showToast("Name and email are required", "error")
    return
  }

  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    showToast("Please enter a valid email", "error")
    return
  }

  // Check if email is already in use by another user
  if (users.some((u) => u.email === email && u.id !== currentUser.id)) {
    showToast("Email already in use by another user", "error")
    return
  }

  // Update user
  currentUser.name = name
  currentUser.email = email
  currentUser.location = location
  currentUser.bio = bio

  // Update in users array
  const userIndex = users.findIndex((u) => u.id === currentUser.id)
  if (userIndex !== -1) {
    users[userIndex] = currentUser
  }

  closeAllModals()
  renderProfileView()
  showToast("Profile updated successfully!", "success")
}

// Profile view functions
function renderProfileView() {
  if (!currentUser) {
    showView("home")
    return
  }

  // Basic info
  const profileName = document.getElementById("profile-name")
  const profilePic = document.getElementById("profile-pic")

  if (profileName) profileName.textContent = currentUser.name
  if (profilePic) profilePic.src = currentUser.profilePhoto

  // Location
  const locationText = document.getElementById("location-text")
  if (locationText) {
    locationText.textContent = currentUser.location || "Not specified"
  }

  // Profile status
  const statusBadge = document.getElementById("profile-status")
  const toggleBtn = document.getElementById("toggle-status-btn")

  if (statusBadge && toggleBtn) {
    if (currentUser.isPublic) {
      statusBadge.textContent = "Public"
      statusBadge.className = "status-badge status-public"
      toggleBtn.textContent = "Make Private"
    } else {
      statusBadge.textContent = "Private"
      statusBadge.className = "status-badge status-private"
      toggleBtn.textContent = "Make Public"
    }
  }

  // Offered skills
  renderSkillsList("offered-skills", currentUser.offeredSkills, true)

  // Wanted skills
  renderSkillsList("wanted-skills", currentUser.wantedSkills, true)

  // Availability
  const weekendsAvailability = document.getElementById("weekends-availability")
  const eveningsAvailability = document.getElementById("evenings-availability")
  const weekdaysAvailability = document.getElementById("weekdays-availability")

  if (weekendsAvailability) weekendsAvailability.checked = currentUser.availability.includes("weekends")
  if (eveningsAvailability) eveningsAvailability.checked = currentUser.availability.includes("evenings")
  if (weekdaysAvailability) weekdaysAvailability.checked = currentUser.availability.includes("weekdays")

  // Ratings
  renderUserRatings()
}

function renderSkillsList(containerId, skillsList, editable = false) {
  const container = document.getElementById(containerId)
  if (!container) return

  container.innerHTML = ""

  if (skillsList.length === 0) {
    container.innerHTML = '<p class="no-skills">No skills added yet</p>'
    return
  }

  skillsList.forEach((skill) => {
    const skillItem = document.createElement("div")
    skillItem.className = "skill-item"
    skillItem.innerHTML = `
            <span>${skill}</span>
            ${editable ? '<button class="remove-skill" data-skill="' + skill + '">&times;</button>' : ""}
        `
    container.appendChild(skillItem)
  })

  // Add event listeners to remove buttons
  if (editable) {
    container.querySelectorAll(".remove-skill").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        const skill = e.target.getAttribute("data-skill")
        removeSkill(containerId, skill)
      })
    })
  }
}

function removeSkill(containerId, skill) {
  if (containerId === "offered-skills") {
    currentUser.offeredSkills = currentUser.offeredSkills.filter((s) => s !== skill)
  } else {
    currentUser.wantedSkills = currentUser.wantedSkills.filter((s) => s !== skill)
  }

  // Update in users array
  const userIndex = users.findIndex((u) => u.id === currentUser.id)
  if (userIndex !== -1) {
    users[userIndex] = currentUser
  }

  renderProfileView()
  showToast("Skill removed!", "success")
}

function toggleProfileStatus() {
  if (!currentUser) return

  currentUser.isPublic = !currentUser.isPublic

  // Update in users array
  const userIndex = users.findIndex((u) => u.id === currentUser.id)
  if (userIndex !== -1) {
    users[userIndex] = currentUser
  }

  renderProfileView()
  showToast(`Profile is now ${currentUser.isPublic ? "public" : "private"}`, "info")
}

function addOfferedSkill() {
  const input = document.getElementById("new-offered-skill")
  if (!input || !currentUser) return

  const skill = input.value.trim()

  if (skill && !currentUser.offeredSkills.includes(skill)) {
    currentUser.offeredSkills.push(skill)

    // Update in users array
    const userIndex = users.findIndex((u) => u.id === currentUser.id)
    if (userIndex !== -1) {
      users[userIndex] = currentUser
    }

    input.value = ""
    renderProfileView()
    showToast("Skill added!", "success")
  }
}

function addWantedSkill() {
  const input = document.getElementById("new-wanted-skill")
  if (!input || !currentUser) return

  const skill = input.value.trim()

  if (skill && !currentUser.wantedSkills.includes(skill)) {
    currentUser.wantedSkills.push(skill)

    // Update in users array
    const userIndex = users.findIndex((u) => u.id === currentUser.id)
    if (userIndex !== -1) {
      users[userIndex] = currentUser
    }

    input.value = ""
    renderProfileView()
    showToast("Skill added!", "success")
  }
}

function handlePhotoUpload(e) {
  const file = e.target.files[0]
  if (file && currentUser) {
    const reader = new FileReader()
    reader.onload = (event) => {
      currentUser.profilePhoto = event.target.result

      // Update in users array
      const userIndex = users.findIndex((u) => u.id === currentUser.id)
      if (userIndex !== -1) {
        users[userIndex] = currentUser
      }

      // Update profile picture in UI
      const profilePic = document.getElementById("profile-pic")
      const profilePicSmall = document.querySelector(".profile-pic-small")

      if (profilePic) profilePic.src = event.target.result
      if (profilePicSmall) profilePicSmall.src = event.target.result

      showToast("Profile photo updated!", "success")
    }
    reader.readAsDataURL(file)
  }
}

function updateAvailability() {
  if (!currentUser) return

  const availability = []

  const weekends = document.getElementById("weekends-availability")
  const evenings = document.getElementById("evenings-availability")
  const weekdays = document.getElementById("weekdays-availability")

  if (weekends && weekends.checked) availability.push("weekends")
  if (evenings && evenings.checked) availability.push("evenings")
  if (weekdays && weekdays.checked) availability.push("weekdays")

  currentUser.availability = availability

  // Update in users array
  const userIndex = users.findIndex((u) => u.id === currentUser.id)
  if (userIndex !== -1) {
    users[userIndex] = currentUser
  }
}

function renderUserRatings() {
  const container = document.getElementById("user-ratings")
  if (!container || !currentUser) return

  container.innerHTML = ""

  // Get ratings for current user
  const userRatings = ratings.filter((r) => r.toUserId === currentUser.id)

  if (userRatings.length === 0) {
    container.innerHTML = "<p>No ratings yet</p>"
    return
  }

  userRatings.forEach((rating) => {
    const fromUser = users.find((u) => u.id === rating.fromUserId)
    const swap = swapRequests.find((s) => s.id === rating.swapId)

    if (!fromUser) return

    const ratingElement = document.createElement("div")
    ratingElement.className = "rating"
    ratingElement.innerHTML = `
            <div class="rating-stars">
                ${"★".repeat(rating.rating)}${"☆".repeat(5 - rating.rating)}
            </div>
            <div class="rating-user">From ${fromUser.name}</div>
            <div class="rating-skill">For ${swap ? swap.offeredSkill : "a skill swap"}</div>
            <div class="rating-comment">"${rating.comment}"</div>
        `
    container.appendChild(ratingElement)
  })
}

// Home view functions
function renderHomeView() {
  renderPopularSkills()
}

function renderPopularSkills() {
  const container = document.getElementById("popular-skills")
  if (!container) return

  container.innerHTML = ""

  popularSkills.forEach((skill) => {
    const skillCard = document.createElement("div")
    skillCard.className = "skill-card"
    skillCard.innerHTML = `
            <i class="fas fa-${getSkillIcon(skill)}"></i>
            <h4>${skill}</h4>
            <p>${Math.floor(Math.random() * 50) + 10} people offering this skill</p>
        `
    skillCard.addEventListener("click", () => {
      const skillSearch = document.getElementById("skill-search")
      if (skillSearch) skillSearch.value = skill
      showView("browse")
      renderBrowseView()
    })
    container.appendChild(skillCard)
  })
}

function getSkillIcon(skill) {
  const skillIcons = {
    "Graphic Design": "palette",
    "Web Development": "code",
    Spanish: "language",
    Photography: "camera",
    Cooking: "utensils",
    Excel: "file-excel",
    Photoshop: "image",
    Yoga: "spa",
    Marketing: "bullhorn",
    Writing: "pen",
  }

  return skillIcons[skill] || "star"
}

// Browse view functions
function renderBrowseView() {
  const skillSearch = document.getElementById("skill-search")
  const locationFilter = document.getElementById("location-filter")
  const availabilityFilter = document.getElementById("availability-filter")

  const searchTerm = skillSearch ? skillSearch.value.toLowerCase() : ""
  const locationFilterValue = locationFilter ? locationFilter.value : ""
  const availabilityFilterValue = availabilityFilter ? availabilityFilter.value : ""

  // Filter users
  const filteredUsers = users.filter((user) => {
    // Skip private profiles and current user
    if (!user.isPublic || (currentUser && user.id === currentUser.id)) return false

    // Apply search filter
    if (searchTerm) {
      const hasSkill = [...user.offeredSkills, ...user.wantedSkills].some((skill) =>
        skill.toLowerCase().includes(searchTerm),
      )
      if (!hasSkill) return false
    }

    // Apply location filter
    if (locationFilterValue && locationFilterValue !== "remote" && user.location !== locationFilterValue) {
      return false
    }

    if (locationFilterValue === "remote" && user.location.toLowerCase() !== "remote") {
      return false
    }

    // Apply availability filter
    if (availabilityFilterValue && !user.availability.includes(availabilityFilterValue)) {
      return false
    }

    return true
  })

  // Update results count
  const resultsCount = document.getElementById("results-count")
  if (resultsCount) {
    resultsCount.textContent = filteredUsers.length
  }

  // Render results
  const container = document.getElementById("search-results")
  if (!container) return

  container.innerHTML = ""

  if (filteredUsers.length === 0) {
    container.innerHTML = '<p class="no-results">No users found matching your criteria</p>'
    return
  }

  filteredUsers.forEach((user) => {
    const userCard = document.createElement("div")
    userCard.className = "user-card"
    userCard.innerHTML = `
            <div class="user-card-header">
                <img src="${user.profilePhoto}" alt="${user.name}" class="user-card-pic">
                <div class="user-card-info">
                    <h3>${user.name}</h3>
                    <div class="user-card-location">
                        <i class="fas fa-map-marker-alt"></i> ${user.location || "Location not specified"}
                    </div>
                </div>
            </div>
            <div class="user-card-body">
                <div class="user-card-skills">
                    <h4>Offers:</h4>
                    ${user.offeredSkills.map((skill) => `<span class="skill-tag offer">${skill}</span>`).join("")}
                    <h4>Wants:</h4>
                    ${user.wantedSkills.map((skill) => `<span class="skill-tag want">${skill}</span>`).join("")}
                </div>
            </div>
            <div class="user-card-footer">
                <div class="availability-badge">
                    <i class="fas fa-clock"></i> ${user.availability.join(", ") || "Not specified"}
                </div>
                <button class="btn btn-primary btn-small request-swap-btn" data-user-id="${user.id}">Request Swap</button>
            </div>
        `
    container.appendChild(userCard)
  })

  // Add event listeners to swap buttons
  document.querySelectorAll(".request-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const userId = e.target.getAttribute("data-user-id")
      openSwapModal(userId)
    })
  })
}

function resetFiltersHandler() {
  const skillSearch = document.getElementById("skill-search")
  const locationFilter = document.getElementById("location-filter")
  const availabilityFilter = document.getElementById("availability-filter")

  if (skillSearch) skillSearch.value = ""
  if (locationFilter) locationFilter.value = ""
  if (availabilityFilter) availabilityFilter.value = ""

  renderBrowseView()
}

function openSwapModal(userId) {
  if (!currentUser) {
    openModal("login")
    return
  }

  const user = users.find((u) => u.id === Number.parseInt(userId))
  if (!user) return

  // Set modal title
  const modalTitle = document.getElementById("swap-modal-title")
  if (modalTitle) {
    modalTitle.textContent = "Skill Swap Request"
  }

  // Prepare modal content
  const modalContent = document.getElementById("swap-modal-content")
  if (!modalContent) return

  modalContent.innerHTML = `
    <div class="swap-request-container">
      <!-- Users Section -->
      <div class="swap-users-section">
        <div class="user-profile-card">
          <img src="${currentUser.profilePhoto}" alt="${currentUser.name}">
          <h3>${currentUser.name}</h3>
          <div class="location">
            <i class="fas fa-map-marker-alt"></i>
            <span>${currentUser.location || "Location not set"}</span>
          </div>
        </div>
        
        <div class="swap-arrow-section">
          <i class="fas fa-exchange-alt"></i>
        </div>
        
        <div class="user-profile-card">
          <img src="${user.profilePhoto}" alt="${user.name}">
          <h3>${user.name}</h3>
          <div class="location">
            <i class="fas fa-map-marker-alt"></i>
            <span>${user.location || "Location not set"}</span>
          </div>
        </div>
      </div>

      <!-- Skills Selection Section -->
      <div class="skills-selection-section">
        <div class="skill-selection-group">
          <h4>Choose one of your offered skills:</h4>
          <select id="offered-skill-select" class="skill-dropdown">
            <option value="">Select a skill you offer...</option>
            ${currentUser.offeredSkills.map((skill) => `<option value="${skill}">${skill}</option>`).join("")}
          </select>
        </div>
        
        <div class="skill-selection-group">
          <h4>Choose one of their wanted skills:</h4>
          <select id="wanted-skill-select" class="skill-dropdown">
            <option value="">Select a skill they want...</option>
            ${user.wantedSkills.map((skill) => `<option value="${skill}">${skill}</option>`).join("")}
          </select>
        </div>
      </div>

      <!-- Message Section -->
      <div class="message-section">
        <label for="swap-message">Message to ${user.name}:</label>
        <textarea id="swap-message" placeholder="Explain what you'd like to learn and teach, your availability, and any other details..."></textarea>
      </div>

      <!-- Actions Section -->
      <div class="swap-actions-section">
        <button class="btn btn-outline" id="cancel-swap-btn">Cancel</button>
        <button class="btn btn-primary" id="send-swap-btn" data-user-id="${user.id}">Send Request</button>
      </div>
    </div>
  `

  // Add event listeners
  const cancelSwapBtn = document.getElementById("cancel-swap-btn")
  const sendSwapBtn = document.getElementById("send-swap-btn")

  if (cancelSwapBtn) {
    cancelSwapBtn.addEventListener("click", closeAllModals)
  }

  if (sendSwapBtn) {
    sendSwapBtn.addEventListener("click", sendEnhancedSwapRequest)
  }

  openModal("swap")
}

function sendEnhancedSwapRequest(e) {
  const userId = e.target.getAttribute("data-user-id")
  const messageTextarea = document.getElementById("swap-message")
  const offeredSkillSelect = document.getElementById("offered-skill-select")
  const wantedSkillSelect = document.getElementById("wanted-skill-select")

  const message = messageTextarea ? messageTextarea.value.trim() : ""
  const offeredSkill = offeredSkillSelect ? offeredSkillSelect.value : ""
  const wantedSkill = wantedSkillSelect ? wantedSkillSelect.value : ""

  if (!currentUser) return

  // Validation
  if (!offeredSkill) {
    showToast("Please select a skill you offer", "warning")
    return
  }

  if (!wantedSkill) {
    showToast("Please select a skill they want", "warning")
    return
  }

  if (!message) {
    showToast("Please add a message to your request", "warning")
    return
  }

  // Create new swap request
  const newRequest = {
    id: swapRequests.length + 1,
    fromUserId: currentUser.id,
    toUserId: Number.parseInt(userId),
    offeredSkill,
    wantedSkill,
    message,
    status: "pending",
    createdAt: new Date(),
  }

  swapRequests.push(newRequest)
  closeAllModals()

  // Show success message
  showToast("Swap request sent successfully!", "success")

  // Update swaps view if we're on it
  if (views.swaps && views.swaps.style.display === "block") {
    renderSwapsView()
  }
}

// Swaps view functions
function renderSwapsView() {
  if (!currentUser) {
    showView("home")
    return
  }

  // Show pending tab by default
  switchSwapsTab("pending")
}

function switchSwapsTab(tab) {
  // Update active tab
  document.querySelectorAll(".swaps-tabs .tab-btn").forEach((btn) => {
    btn.classList.remove("active")
    if (btn.getAttribute("data-tab") === tab) {
      btn.classList.add("active")
    }
  })

  // Hide all tab contents
  document.querySelectorAll(".swaps-list").forEach((list) => {
    list.style.display = "none"
  })

  // Show selected tab content
  const containerId = `${tab}-swaps`
  const container = document.getElementById(containerId)
  if (!container) return

  container.style.display = "block"
  container.innerHTML = ""

  // Get swaps for this tab
  let swaps = []
  if (tab === "pending") {
    swaps = swapRequests.filter(
      (req) => req.status === "pending" && (req.fromUserId === currentUser.id || req.toUserId === currentUser.id),
    )
  } else if (tab === "accepted") {
    swaps = swapRequests.filter(
      (req) => req.status === "accepted" && (req.fromUserId === currentUser.id || req.toUserId === currentUser.id),
    )
  } else if (tab === "completed") {
    swaps = swapRequests.filter(
      (req) => req.status === "completed" && (req.fromUserId === currentUser.id || req.toUserId === currentUser.id),
    )
  }

  if (swaps.length === 0) {
    container.innerHTML = `<p class="no-swaps">No ${tab} swaps found</p>`
    return
  }

  swaps.forEach((swap) => {
    const fromUser = users.find((u) => u.id === swap.fromUserId)
    const toUser = users.find((u) => u.id === swap.toUserId)

    if (!fromUser || !toUser) return

    const isCurrentUserSender = swap.fromUserId === currentUser.id
    const otherUser = isCurrentUserSender ? toUser : fromUser

    const swapCard = document.createElement("div")
    swapCard.className = `swap-status-card status-${swap.status}`
    swapCard.innerHTML = `
      <div class="swap-card-header">
        <div class="swap-participants">
          <img src="${fromUser.profilePhoto}" alt="${fromUser.name}">
          <div class="swap-arrow"><i class="fas fa-exchange-alt"></i></div>
          <img src="${toUser.profilePhoto}" alt="${toUser.name}">
        </div>
        <div class="swap-status-badge ${swap.status}">
          ${swap.status.charAt(0).toUpperCase() + swap.status.slice(1)}
        </div>
      </div>

      <div class="swap-details-section">
        <div class="swap-skills-info">
          <div class="skill-offer">
            <strong>${fromUser.name}</strong> offers
            <div class="skill-tag offer">${swap.offeredSkill}</div>
          </div>
          <div class="swap-arrow"><i class="fas fa-exchange-alt"></i></div>
          <div class="skill-want">
            <strong>${toUser.name}</strong> wants
            <div class="skill-tag want">${swap.wantedSkill}</div>
          </div>
        </div>

        ${swap.message ? `<div class="swap-message-preview">"${swap.message}"</div>` : ""}
        
        <div class="swap-date">
          <i class="fas fa-calendar-alt"></i> ${formatDate(swap.createdAt)}
        </div>
      </div>

      <div class="swap-actions-row">
        ${
          swap.status === "pending" && swap.toUserId === currentUser.id
            ? `
            <button class="btn btn-primary btn-small accept-swap-btn" data-swap-id="${swap.id}">Accept</button>
            <button class="btn btn-outline btn-small reject-swap-btn" data-swap-id="${swap.id}">Reject</button>
        `
            : ""
        }
        ${
          swap.status === "pending" && swap.fromUserId === currentUser.id
            ? `
            <button class="btn btn-outline btn-small cancel-swap-btn" data-swap-id="${swap.id}">Cancel</button>
        `
            : ""
        }
        ${
          swap.status === "accepted"
            ? `
            <button class="btn btn-primary btn-small complete-swap-btn" data-swap-id="${swap.id}">Mark Complete</button>
        `
            : ""
        }
        ${
          swap.status === "completed" && !ratings.some((r) => r.swapId === swap.id && r.fromUserId === currentUser.id)
            ? `
            <button class="btn btn-primary btn-small rate-swap-btn" data-swap-id="${swap.id}" data-user-id="${otherUser.id}">Rate Swap</button>
        `
            : ""
        }
      </div>
    `
    container.appendChild(swapCard)
  })

  // Add pagination if there are many swaps
  if (swaps.length > 5) {
    addPagination(container, swaps, 5)
  }

  // Re-add event listeners for action buttons
  addSwapActionListeners()
}

function addPagination(container, items, itemsPerPage) {
  const totalPages = Math.ceil(items.length / itemsPerPage)

  if (totalPages <= 1) return

  const paginationContainer = document.createElement("div")
  paginationContainer.className = "pagination-container"

  paginationContainer.innerHTML = `
    <button class="pagination-btn" id="prev-page" disabled>
      <i class="fas fa-chevron-left"></i>
    </button>
    <span class="pagination-info">Page 1 of ${totalPages}</span>
    <button class="pagination-btn" id="next-page" ${totalPages === 1 ? "disabled" : ""}>
      <i class="fas fa-chevron-right"></i>
    </button>
  `

  container.appendChild(paginationContainer)
}

function addSwapActionListeners() {
  // Add event listeners to action buttons
  document.querySelectorAll(".accept-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
      acceptSwapRequest(swapId)
    })
  })

  document.querySelectorAll(".reject-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
      rejectSwapRequest(swapId)
    })
  })

  document.querySelectorAll(".cancel-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
      cancelSwapRequest(swapId)
    })
  })

  document.querySelectorAll(".complete-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
      completeSwapRequest(swapId)
    })
  })

  document.querySelectorAll(".rate-swap-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
      const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
      openRatingModal(swapId, userId)
    })
  })
}

function acceptSwapRequest(swapId) {
  const swapIndex = swapRequests.findIndex((s) => s.id === swapId)
  if (swapIndex !== -1) {
    swapRequests[swapIndex].status = "accepted"
    renderSwapsView()
    showToast("Swap request accepted!", "success")
  }
}

function rejectSwapRequest(swapId) {
  const swapIndex = swapRequests.findIndex((s) => s.id === swapId)
  if (swapIndex !== -1) {
    swapRequests.splice(swapIndex, 1)
    renderSwapsView()
    showToast("Swap request rejected", "info")
  }
}

function cancelSwapRequest(swapId) {
  const swapIndex = swapRequests.findIndex((s) => s.id === swapId)
  if (swapIndex !== -1) {
    swapRequests.splice(swapIndex, 1)
    renderSwapsView()
    showToast("Swap request cancelled", "info")
  }
}

function completeSwapRequest(swapId) {
  const swapIndex = swapRequests.findIndex((s) => s.id === swapId)
  if (swapIndex !== -1) {
    swapRequests[swapIndex].status = "completed"
    swapRequests[swapIndex].completedAt = new Date()
    renderSwapsView()
    showToast("Swap marked as completed!", "success")
  }
}

function openRatingModal(swapId, userId) {
  const user = users.find((u) => u.id === userId)
  if (!user) return

  const modalTitle = document.getElementById("rating-modal-title")
  if (modalTitle) {
    modalTitle.textContent = `Rate Your Swap with ${user.name}`
  }

  const modalContent = document.getElementById("rating-modal-content")
  if (!modalContent) return

  modalContent.innerHTML = `
        <div class="rating-form">
            <div class="rating-input">
                <i class="fas fa-star" data-rating="1"></i>
                <i class="fas fa-star" data-rating="2"></i>
                <i class="fas fa-star" data-rating="3"></i>
                <i class="fas fa-star" data-rating="4"></i>
                <i class="fas fa-star" data-rating="5"></i>
            </div>
            <input type="hidden" id="selected-rating" value="0">
            <div class="form-group">
                <label for="rating-comment">Your Feedback (optional)</label>
                <textarea id="rating-comment" placeholder="How was your experience?"></textarea>
            </div>
            <div class="rating-actions">
                <button class="btn btn-outline" id="cancel-rating-btn">Cancel</button>
                <button class="btn btn-primary" id="submit-rating-btn" data-swap-id="${swapId}" data-user-id="${userId}">Submit Rating</button>
            </div>
        </div>
    `

  // Set up star rating interaction
  const stars = modalContent.querySelectorAll(".rating-input i")
  stars.forEach((star) => {
    star.addEventListener("click", (e) => {
      const rating = Number.parseInt(e.target.getAttribute("data-rating"))
      const selectedRating = document.getElementById("selected-rating")
      if (selectedRating) selectedRating.value = rating

      stars.forEach((s, index) => {
        if (index < rating) {
          s.classList.add("active")
        } else {
          s.classList.remove("active")
        }
      })
    })

    star.addEventListener("mouseover", (e) => {
      const rating = Number.parseInt(e.target.getAttribute("data-rating"))

      stars.forEach((s, index) => {
        if (index < rating) {
          s.classList.add("hover")
        } else {
          s.classList.remove("hover")
        }
      })
    })

    star.addEventListener("mouseout", () => {
      stars.forEach((s) => s.classList.remove("hover"))
    })
  })

  const cancelRatingBtn = document.getElementById("cancel-rating-btn")
  const submitRatingBtn = document.getElementById("submit-rating-btn")

  if (cancelRatingBtn) {
    cancelRatingBtn.addEventListener("click", closeAllModals)
  }

  if (submitRatingBtn) {
    submitRatingBtn.addEventListener("click", submitRating)
  }

  openModal("rating")
}

function submitRating(e) {
  const swapId = Number.parseInt(e.target.getAttribute("data-swap-id"))
  const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
  const selectedRating = document.getElementById("selected-rating")
  const ratingComment = document.getElementById("rating-comment")

  const rating = selectedRating ? Number.parseInt(selectedRating.value) : 0
  const comment = ratingComment ? ratingComment.value : ""

  if (rating === 0) {
    showToast("Please select a rating", "warning")
    return
  }

  const newRating = {
    id: ratings.length + 1,
    swapId,
    fromUserId: currentUser.id,
    toUserId: userId,
    rating,
    comment,
    createdAt: new Date(),
  }

  ratings.push(newRating)
  closeAllModals()
  renderSwapsView()
  showToast("Thank you for your rating!", "success")
}

// Admin view functions
function renderAdminView() {
  if (!currentUser || !currentUser.isAdmin) {
    showView("home")
    return
  }

  // Show users tab by default
  switchAdminTab("admin-users")
}

function switchAdminTab(tab) {
  // Update active tab
  document.querySelectorAll(".admin-tabs .tab-btn").forEach((btn) => {
    btn.classList.remove("active")
    if (btn.getAttribute("data-tab") === tab) {
      btn.classList.add("active")
    }
  })

  // Hide all tab contents
  document.querySelectorAll(".admin-tab-content").forEach((content) => {
    content.style.display = "none"
  })

  // Show selected tab content
  const containerId = `${tab}-tab`
  const container = document.getElementById(containerId)
  if (container) {
    container.style.display = "block"
  }

  // Load content for the tab
  if (tab === "admin-users") {
    renderAdminUsers()
  } else if (tab === "admin-content") {
    renderPendingSkills()
  }
}

function renderAdminUsers() {
  const searchInput = document.getElementById("admin-user-search")
  const searchTerm = searchInput ? searchInput.value.toLowerCase() : ""

  let filteredUsers = users
  if (searchTerm) {
    filteredUsers = users.filter(
      (user) => user.name.toLowerCase().includes(searchTerm) || user.email.toLowerCase().includes(searchTerm),
    )
  }

  const tableBody = document.getElementById("admin-users-table")
  if (!tableBody) return

  tableBody.innerHTML = ""

  filteredUsers.forEach((user) => {
    const row = document.createElement("tr")
    row.innerHTML = `
            <td>${user.id}</td>
            <td>
                <div class="user-info">
                    <img src="${user.profilePhoto}" alt="${user.name}" class="user-table-pic">
                    ${user.name}
                </div>
            </td>
            <td>${user.email}</td>
            <td>
                <span class="status-badge ${user.isPublic ? "status-public" : "status-private"}">
                    ${user.isPublic ? "Public" : "Private"}
                </span>
                ${user.isAdmin ? '<span class="badge badge-primary">Admin</span>' : ""}
            </td>
            <td>
                <div class="admin-actions">
                    <button class="btn btn-outline btn-small admin-edit-btn" data-user-id="${user.id}">Edit</button>
                    ${
                      !user.isAdmin
                        ? `
                        <button class="btn btn-danger btn-small admin-ban-btn" data-user-id="${user.id}">
                            ${user.isBanned ? "Unban" : "Ban"}
                        </button>
                    `
                        : ""
                    }
                </div>
            </td>
        `
    tableBody.appendChild(row)
  })

  // Add event listeners to action buttons
  document.querySelectorAll(".admin-edit-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
      editUser(userId)
    })
  })

  document.querySelectorAll(".admin-ban-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
      toggleBanUser(userId)
    })
  })
}

function renderPendingSkills() {
  // Get all skills that need approval (in a real app, these would be flagged)
  const pendingSkills = []
  users.forEach((user) => {
    user.offeredSkills.forEach((skill) => {
      if (!skills.includes(skill)) {
        pendingSkills.push({
          userId: user.id,
          userName: user.name,
          skill,
        })
      }
    })
    user.wantedSkills.forEach((skill) => {
      if (!skills.includes(skill)) {
        pendingSkills.push({
          userId: user.id,
          userName: user.name,
          skill,
        })
      }
    })
  })

  const container = document.getElementById("pending-skills-list")
  if (!container) return

  container.innerHTML = ""

  if (pendingSkills.length === 0) {
    container.innerHTML = "<p>No skills pending approval</p>"
    return
  }

  pendingSkills.forEach((item) => {
    const skillItem = document.createElement("div")
    skillItem.className = "pending-skill-item"
    skillItem.innerHTML = `
            <div class="skill-info">
                <h4>${item.skill}</h4>
                <p>Submitted by: ${item.userName}</p>
            </div>
            <div class="skill-actions">
                <button class="btn btn-primary btn-small approve-skill-btn" data-skill="${item.skill}" data-user-id="${item.userId}">Approve</button>
                <button class="btn btn-outline btn-small reject-skill-btn" data-skill="${item.skill}" data-user-id="${item.userId}">Reject</button>
            </div>
        `
    container.appendChild(skillItem)
  })

  // Add event listeners to action buttons
  document.querySelectorAll(".approve-skill-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const skill = e.target.getAttribute("data-skill")
      const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
      approveSkill(skill, userId)
    })
  })

  document.querySelectorAll(".reject-skill-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const skill = e.target.getAttribute("data-skill")
      const userId = Number.parseInt(e.target.getAttribute("data-user-id"))
      rejectSkill(skill, userId)
    })
  })
}

function editUser(userId) {
  const user = users.find((u) => u.id === userId)
  if (!user) return

  showToast(`Edit user: ${user.name} - This would open an edit form in a real implementation.`, "info")
}

function toggleBanUser(userId) {
  const userIndex = users.findIndex((u) => u.id === userId)
  if (userIndex !== -1) {
    users[userIndex].isBanned = !users[userIndex].isBanned
    renderAdminUsers()
    showToast(`User ${users[userIndex].isBanned ? "banned" : "unbanned"}`, "info")
  }
}

function approveSkill(skill, userId) {
  if (!skills.includes(skill)) {
    skills.push(skill)
  }

  showToast(`Skill "${skill}" approved`, "success")
  renderPendingSkills()
}

function rejectSkill(skill, userId) {
  showToast(`Skill "${skill}" rejected`, "info")
  renderPendingSkills()
}

function exportUserData() {
  showToast("User data exported successfully", "success")
}

function sendPlatformMessage() {
  const subjectInput = document.getElementById("message-subject")
  const contentInput = document.getElementById("message-content")
  const urgentInput = document.getElementById("urgent-message")

  const subject = subjectInput ? subjectInput.value : ""
  const content = contentInput ? contentInput.value : ""
  const isUrgent = urgentInput ? urgentInput.checked : false

  if (!subject || !content) {
    showToast("Please enter both subject and content", "warning")
    return
  }

  showToast(`Message sent to all users${isUrgent ? " (urgent)" : ""}`, "success")

  // Clear form
  if (subjectInput) subjectInput.value = ""
  if (contentInput) contentInput.value = ""
  if (urgentInput) urgentInput.checked = false
}

function generateReport() {
  const reportTypeSelect = document.getElementById("report-type")
  const startDateInput = document.getElementById("report-start-date")
  const endDateInput = document.getElementById("report-end-date")

  const reportType = reportTypeSelect ? reportTypeSelect.value : "swaps"
  const startDate = startDateInput ? startDateInput.value : ""
  const endDate = endDateInput ? endDateInput.value : ""

  let reportData = ""

  if (reportType === "swaps") {
    reportData = `
            <h3>Swap Statistics</h3>
            <p>Total swaps: ${swapRequests.length}</p>
            <p>Pending: ${swapRequests.filter((s) => s.status === "pending").length}</p>
            <p>Accepted: ${swapRequests.filter((s) => s.status === "accepted").length}</p>
            <p>Completed: ${swapRequests.filter((s) => s.status === "completed").length}</p>
        `
  } else if (reportType === "users") {
    reportData = `
            <h3>User Activity</h3>
            <p>Total users: ${users.length}</p>
            <p>Active users: ${users.filter((u) => !u.isBanned).length}</p>
            <p>Banned users: ${users.filter((u) => u.isBanned).length}</p>
            <p>Admins: ${users.filter((u) => u.isAdmin).length}</p>
        `
  } else if (reportType === "feedback") {
    const avgRating =
      ratings.length > 0 ? (ratings.reduce((sum, r) => sum + r.rating, 0) / ratings.length).toFixed(1) : "0"
    reportData = `
            <h3>Feedback Summary</h3>
            <p>Total ratings: ${ratings.length}</p>
            <p>Average rating: ${avgRating}</p>
        `
  }

  const reportResults = document.getElementById("report-results")
  if (reportResults) {
    reportResults.innerHTML = reportData
  }

  showToast("Report generated", "success")
}

function downloadReport() {
  showToast("Report downloaded as CSV", "success")
}

// Utility functions
function formatDate(date) {
  return new Date(date).toLocaleDateString("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric",
    hour: "2-digit",
    minute: "2-digit",
  })
}

function showToast(message, type) {
  const toast = document.createElement("div")
  toast.className = `toast toast-${type}`
  toast.innerHTML = `
        <i class="fas fa-${getToastIcon(type)}"></i>
        <span>${message}</span>
    `

  document.body.appendChild(toast)

  setTimeout(() => {
    toast.classList.add("show")
  }, 100)

  setTimeout(() => {
    toast.classList.remove("show")
    setTimeout(() => {
      toast.remove()
    }, 300)
  }, 3000)
}

function getToastIcon(type) {
  const icons = {
    success: "check-circle",
    error: "exclamation-circle",
    warning: "exclamation-triangle",
    info: "info-circle",
  }
  return icons[type] || "info-circle"
}

// Initialize any UI components
function initUIComponents() {
  // Populate location filter dropdown
  const locationFilter = document.getElementById("location-filter")
  if (locationFilter) {
    locations.forEach((location) => {
      const option = document.createElement("option")
      option.value = location
      option.textContent = location
      locationFilter.appendChild(option)
    })
  }

  // Add scroll event listener for header effect
  window.addEventListener("scroll", () => {
    const header = document.querySelector(".app-header")
    if (header) {
      if (window.scrollY > 50) {
        header.classList.add("scrolled")
      } else {
        header.classList.remove("scrolled")
      }
    }
  })
}
   </script>
</body>
</html>
